/* TaskBubble UI – modern glassmorphism + floating bubbles */
:root, [data-theme="dark"] {
  color-scheme: dark;

  --bg0: #03050a;
  --bg1: #080b12;
  --panel: rgba(255, 255, 255, 0.05);
  --panel2: rgba(255, 255, 255, 0.08);
  --border: rgba(255, 255, 255, 0.12);
  --text: rgba(255, 255, 255, 0.96);
  --muted: rgba(255, 255, 255, 0.64);

  --primary: #64b5ff;
  --primary-strong: #4ca3ff;
  --accent: #7fb5ff;
  --danger: #ff6b81;
  --shadow: 0 16px 46px rgba(0, 0, 0, 0.55);

  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.06);
  --topbar-bg: rgba(8, 10, 16, 0.82);
  --card-hover: rgba(255, 255, 255, 0.07);
}

[data-theme="light"] {
  color-scheme: light;

  --bg0: #f4f6fa;
  --bg1: #ffffff;
  --panel: rgba(0, 0, 0, 0.03);
  --panel2: rgba(0, 0, 0, 0.05);
  --border: rgba(0, 0, 0, 0.1);
  --text: rgba(0, 0, 0, 0.88);
  --muted: rgba(0, 0, 0, 0.5);

  --primary: #2563eb;
  --primary-strong: #1d4ed8;
  --accent: #3b82f6;
  --danger: #ef4444;
  --shadow: 0 8px 32px rgba(0, 0, 0, 0.08);

  --glass-bg: rgba(0, 0, 0, 0.02);
  --glass-border: rgba(0, 0, 0, 0.06);
  --topbar-bg: rgba(255, 255, 255, 0.85);
  --card-hover: rgba(0, 0, 0, 0.04);
}

/* ── Light mode body ── */
[data-theme="light"] body {
  background: linear-gradient(180deg, #f4f6fa, #ffffff) no-repeat;
  background-attachment: fixed;
  background-color: var(--bg1);
  color: var(--text);
}

/* ── Light: topbar ── */
[data-theme="light"] .appTopbar {
  background: var(--topbar-bg);
  backdrop-filter: blur(24px) saturate(1.2);
  border-bottom: 1px solid var(--border);
}

[data-theme="light"] .brandText {
  background: linear-gradient(135deg, #111 40%, var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

[data-theme="light"] .logoMark.sm {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(130, 100, 255, 0.1));
  border-color: rgba(37, 99, 235, 0.25);
  color: var(--primary);
}

[data-theme="light"] .navPills {
  background: rgba(0, 0, 0, 0.04);
  border-color: rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .navPill { color: rgba(0, 0, 0, 0.45); }
[data-theme="light"] .navPill.active { color: var(--text); background: rgba(0, 0, 0, 0.06); border-color: rgba(0, 0, 0, 0.08); }
[data-theme="light"] .navPill:hover:not(.disabled) { color: var(--text); background: rgba(0, 0, 0, 0.04); }

[data-theme="light"] .iconBtn { border-color: var(--border); background: rgba(0, 0, 0, 0.03); color: var(--muted); }
[data-theme="light"] .iconBtn:hover { background: rgba(0, 0, 0, 0.06); color: var(--text); border-color: rgba(0, 0, 0, 0.15); }

[data-theme="light"] .userLink { background: rgba(0, 0, 0, 0.03); border-color: var(--border); }
[data-theme="light"] .userLink:hover { background: rgba(0, 0, 0, 0.06); border-color: rgba(0, 0, 0, 0.12); }

[data-theme="light"] .avatarCircle { background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(130, 80, 255, 0.1)); border-color: rgba(37, 99, 235, 0.25); color: var(--primary); }
[data-theme="light"] .userNameText { color: var(--text); }

[data-theme="light"] .headerSignOut { border-color: var(--border); color: var(--muted); }
[data-theme="light"] .headerSignOut:hover { background: rgba(239, 68, 68, 0.08); border-color: rgba(239, 68, 68, 0.2); color: var(--danger); }

/* ── Light: shared form elements ── */
[data-theme="light"] input,
[data-theme="light"] textarea,
[data-theme="light"] select {
  background: rgba(0, 0, 0, 0.03);
  border-color: var(--border);
  color: var(--text);
}

[data-theme="light"] input:focus,
[data-theme="light"] textarea:focus,
[data-theme="light"] select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
}

[data-theme="light"] select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='rgba(0,0,0,0.4)' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

[data-theme="light"] .kicker { color: var(--muted); }
[data-theme="light"] .fieldLabel { color: var(--muted); }

[data-theme="light"] .errorBox { color: #b91c1c; background: rgba(239, 68, 68, 0.08); border-color: rgba(239, 68, 68, 0.2); }

/* ── Light: buttons ── */
[data-theme="light"] .primaryBtn { background: linear-gradient(135deg, var(--primary), var(--primary-strong)); color: #fff; border-color: var(--primary); }
[data-theme="light"] .secondaryBtn { background: rgba(0, 0, 0, 0.04); border-color: var(--border); color: var(--text); }
[data-theme="light"] .secondaryBtn:hover { background: rgba(0, 0, 0, 0.08); }

/* ── Light: shared panels ── */
[data-theme="light"] .card,
[data-theme="light"] .panel,
[data-theme="light"] .miniPanel,
[data-theme="light"] .sideCard { background: rgba(255, 255, 255, 0.8); border-color: var(--border); box-shadow: var(--shadow); }

/* (Light auth overrides are now inline with the auth section above) */

/* ── Light: home / workspaces page ── */
[data-theme="light"] .homeHero,
[data-theme="light"] .homeSection,
[data-theme="light"] .homeDueSoon,
[data-theme="light"] .profileSection,
[data-theme="light"] .profileFormCard,
[data-theme="light"] .adminSection { background: rgba(255, 255, 255, 0.8); border-color: var(--border); box-shadow: var(--shadow); }

[data-theme="light"] .homeGreeting,
[data-theme="light"] .homeSectionTitle,
[data-theme="light"] .homeWsName,
[data-theme="light"] .homeTaskTitle,
[data-theme="light"] .homeDueTitle { color: var(--text); }

[data-theme="light"] .homeWsCard,
[data-theme="light"] .homeTaskCard,
[data-theme="light"] .homeQA,
[data-theme="light"] .homeDueCard { background: rgba(0, 0, 0, 0.02); border-color: var(--border); color: var(--text); }
[data-theme="light"] .homeWsCard:hover,
[data-theme="light"] .homeTaskCard:hover,
[data-theme="light"] .homeQA:hover,
[data-theme="light"] .homeDueCard:hover { background: rgba(0, 0, 0, 0.05); color: var(--text); }

[data-theme="light"] .homeWsIcon { background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(130, 80, 255, 0.06)); border-color: rgba(37, 99, 235, 0.2); color: var(--primary); }
[data-theme="light"] .homeWsArrow { color: rgba(0, 0, 0, 0.2); }
[data-theme="light"] .homeWsDot { background: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .homeWsProgressTrack { background: rgba(0, 0, 0, 0.06); }
[data-theme="light"] .homeWsUnread { border-color: #fff; }
[data-theme="light"] .homeActivityRow:hover { background: rgba(0, 0, 0, 0.03); border-color: rgba(0, 0, 0, 0.06); }
[data-theme="light"] .homeActivityText { color: var(--text); }

[data-theme="light"] .homeCreateBtn { background: linear-gradient(135deg, var(--primary), var(--primary-strong)); color: #fff; border-color: rgba(37, 99, 235, 0.3); }
[data-theme="light"] .homeCreateInput { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .homeCreateBar { background: rgba(255, 255, 255, 0.8); border-color: rgba(37, 99, 235, 0.15); }
[data-theme="light"] .homeCreateCancel { border-color: var(--border); color: var(--muted); }
[data-theme="light"] .homeCreateCancel:hover { background: rgba(0, 0, 0, 0.04); color: var(--text); }

[data-theme="light"] .homeSectionHeader { border-bottom-color: var(--border); }
[data-theme="light"] .homeSectionCount { background: rgba(0, 0, 0, 0.04); }
[data-theme="light"] .homeDueSoonTitle { color: #c2410c; }
[data-theme="light"] .homeUrgOverdue { background: rgba(239, 68, 68, 0.08); border-color: rgba(239, 68, 68, 0.2); color: #b91c1c; }
[data-theme="light"] .homeUrgToday { background: rgba(245, 158, 11, 0.08); border-color: rgba(245, 158, 11, 0.2); color: #92400e; }
[data-theme="light"] .homeUrgSoon { background: rgba(37, 99, 235, 0.06); border-color: rgba(37, 99, 235, 0.15); color: #1d4ed8; }
[data-theme="light"] .homeUrgAsap { background: rgba(234, 88, 12, 0.08); border-color: rgba(234, 88, 12, 0.2); color: #c2410c; }
[data-theme="light"] .homeTaskBadgeOverdue { background: rgba(239, 68, 68, 0.08); border-color: rgba(239, 68, 68, 0.2); color: #b91c1c; }
[data-theme="light"] .homeTaskBadgeAsap { background: rgba(234, 88, 12, 0.06); border-color: rgba(234, 88, 12, 0.2); color: #c2410c; }
[data-theme="light"] .homeTaskBadgeDone { background: rgba(22, 163, 74, 0.06); border-color: rgba(22, 163, 74, 0.2); color: #15803d; }

/* ── Light: workspace tiles (dashboardSection, wsTile) ── */
[data-theme="light"] .dashboardSection { background: rgba(255, 255, 255, 0.7); border-color: var(--border); box-shadow: var(--shadow); }
[data-theme="light"] .wsTile { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .wsTile:hover { background: rgba(0, 0, 0, 0.04); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .wsCard { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .wsCard:hover { border-color: rgba(37, 99, 235, 0.3); }
[data-theme="light"] .wsMini { background: rgba(0, 0, 0, 0.01); border-color: rgba(0, 0, 0, 0.05); }
[data-theme="light"] .wsCount { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }
[data-theme="light"] .wsTag { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }
[data-theme="light"] .metricBox { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }

/* ── Light: board page ── */
[data-theme="light"] .bpWsName,
[data-theme="light"] .bpDetailTitle,
[data-theme="light"] .bpTaskRowTitle,
[data-theme="light"] .bpDetailDesc { color: var(--text); }
[data-theme="light"] .bpStats b { color: var(--text); }
[data-theme="light"] .bpStatDot { background: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .bpHeader { border-bottom-color: var(--border); }
[data-theme="light"] .bpFilters { border-bottom-color: var(--border); }

[data-theme="light"] .bpViewTabs { background: rgba(0, 0, 0, 0.04); }
[data-theme="light"] .bpViewTab.active { background: rgba(0, 0, 0, 0.08); color: var(--text); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); }
[data-theme="light"] .bpViewTab:hover { color: var(--text); }

[data-theme="light"] .bpFilterSep { background: rgba(0, 0, 0, 0.08); }
[data-theme="light"] .bpFilterLabel { color: rgba(0, 0, 0, 0.35); }
[data-theme="light"] .bpChip { background: rgba(0, 0, 0, 0.04); border-color: var(--border); color: var(--muted); }
[data-theme="light"] .bpChip:hover { background: rgba(0, 0, 0, 0.07); color: var(--text); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .bpChip.active { background: rgba(37, 99, 235, 0.1); border-color: rgba(37, 99, 235, 0.3); color: var(--primary); }
[data-theme="light"] .bpChip.danger.active { background: rgba(234, 88, 12, 0.1); border-color: rgba(234, 88, 12, 0.3); }
[data-theme="light"] .bpChipCo.active { color: var(--primary); }
[data-theme="light"] .bpChipReset { border-color: rgba(239, 68, 68, 0.2); color: var(--danger); }
[data-theme="light"] .bpChipReset:hover { background: rgba(239, 68, 68, 0.06); }

[data-theme="light"] .bpRefresh { border-color: var(--border); background: rgba(0, 0, 0, 0.02); }
[data-theme="light"] .bpRefresh:hover { background: rgba(0, 0, 0, 0.06); color: var(--text); }

[data-theme="light"] .bpSidebar { background: rgba(255, 255, 255, 0.7); border-left: 1px solid var(--border); backdrop-filter: blur(20px); }
[data-theme="light"] .bpSidebarTabs { border-bottom-color: var(--border); }
[data-theme="light"] .bpSideTab:hover:not(.disabled) { color: var(--text); }
[data-theme="light"] .bpSideTab.active { color: var(--text); border-bottom-color: var(--primary); }

[data-theme="light"] .bpSearch { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .bpTaskSectionCount { background: rgba(0, 0, 0, 0.05); }

[data-theme="light"] .bpTaskRow { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .bpTaskRow:hover { background: rgba(0, 0, 0, 0.04); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .bpTaskRow.active { background: rgba(37, 99, 235, 0.06); border-color: rgba(37, 99, 235, 0.25); }
[data-theme="light"] .bpTaskRowTitle { color: var(--text); }
[data-theme="light"] .bpTaskChip { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }

[data-theme="light"] .bpDetailDesc { background: rgba(0, 0, 0, 0.02); border-color: var(--border); color: var(--text); }
[data-theme="light"] .bpMemberDot { color: var(--text); }
[data-theme="light"] .bpMemberMore { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }

/* ── Light: canvas views ── */
[data-theme="light"] .bubbleCanvas { background: rgba(0, 0, 0, 0.01); border-color: var(--border); background-image: none; }
[data-theme="light"] .gridOverlay { background-image: linear-gradient(rgba(0, 0, 0, 0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 0, 0, 0.04) 1px, transparent 1px); }

[data-theme="light"] .bpCanvas > .bubbleCanvas,
[data-theme="light"] .bpCanvas > .listViewCanvas,
[data-theme="light"] .bpCanvas > .peopleViewCanvas,
[data-theme="light"] .bpCanvas > .kanbanCanvas { border-right-color: var(--border); }

/* ── Light: list view ── */
[data-theme="light"] .listViewCanvas { background: rgba(255, 255, 255, 0.6); border-color: var(--border); }
[data-theme="light"] .listViewHeader { border-bottom-color: var(--border); }
[data-theme="light"] .listViewRow { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .listViewRow:hover { background: rgba(0, 0, 0, 0.04); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .listViewRow.active { background: rgba(37, 99, 235, 0.06); border-color: rgba(37, 99, 235, 0.25); }
[data-theme="light"] .statusCircle { border-color: rgba(0, 0, 0, 0.2); color: var(--text); }
[data-theme="light"] .asapBadge { background: rgba(234, 88, 12, 0.08); border-color: rgba(234, 88, 12, 0.2); color: #c2410c; }

/* ── Light: people view ── */
[data-theme="light"] .peopleViewCanvas { background: rgba(255, 255, 255, 0.6); border-color: var(--border); }
[data-theme="light"] .personColumn { background: rgba(255, 255, 255, 0.7); border-color: var(--border); box-shadow: var(--shadow); }
[data-theme="light"] .personColumn.unassigned { background: rgba(0, 0, 0, 0.01); }
[data-theme="light"] .personHeader { background: rgba(0, 0, 0, 0.02); border-bottom-color: var(--border); }
[data-theme="light"] .personAvatar { border-color: rgba(0, 0, 0, 0.1); }
[data-theme="light"] .unassigned .personAvatar { background: rgba(0, 0, 0, 0.04); }
[data-theme="light"] .personTaskCard { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .personTaskCard:hover { background: rgba(0, 0, 0, 0.05); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .personTaskCard.active { background: rgba(37, 99, 235, 0.06); border-color: rgba(37, 99, 235, 0.25); }
[data-theme="light"] .personTaskChip { border-color: var(--border); background: rgba(0, 0, 0, 0.03); color: var(--muted); }

/* scrollbar in light mode */
[data-theme="light"] .peopleViewScroll::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.02); }
[data-theme="light"] .peopleViewScroll::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.1); }
[data-theme="light"] .peopleViewScroll::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.15); }

/* ── Light: kanban view ── */
[data-theme="light"] .kanbanCanvas { border-right-color: var(--border); }
[data-theme="light"] .kanbanCol { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .kanbanColHead { border-bottom-color: var(--border); }
[data-theme="light"] .kanbanColCount { background: rgba(0, 0, 0, 0.05); }
[data-theme="light"] .kanbanCard { background: rgba(0, 0, 0, 0.02); border-color: var(--border); color: var(--text); }
[data-theme="light"] .kanbanCard:hover { background: rgba(0, 0, 0, 0.05); border-color: rgba(0, 0, 0, 0.15); box-shadow: var(--shadow); }
[data-theme="light"] .kanbanCardTitle { color: var(--text); }
[data-theme="light"] .kanbanEmpty { border-color: rgba(0, 0, 0, 0.08); }

/* ── Light: sidebar content ── */
[data-theme="light"] .unifiedSidebar { background: rgba(255, 255, 255, 0.8); border-color: var(--border); box-shadow: var(--shadow); }
[data-theme="light"] .sidebarHeader { background: rgba(0, 0, 0, 0.01); border-bottom-color: var(--border); }
[data-theme="light"] .sidebarTabs { background: rgba(0, 0, 0, 0.04); }
[data-theme="light"] .sidebarTab.active { background: rgba(0, 0, 0, 0.08); color: var(--text); }
[data-theme="light"] .sidebarTab:hover:not(.active):not(.disabled) { color: var(--text); background: rgba(0, 0, 0, 0.03); }
[data-theme="light"] .sidebarContent .taskRow { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .sidebarContent .taskRow:hover { background: rgba(0, 0, 0, 0.05); border-color: rgba(0, 0, 0, 0.12); }
[data-theme="light"] .sidebarContent .taskRow.active { background: rgba(37, 99, 235, 0.06); border-color: rgba(37, 99, 235, 0.2); }
[data-theme="light"] .sidebarContent .taskRowTitle { color: var(--text); }
[data-theme="light"] .sidebarContent input,
[data-theme="light"] .sidebarContent textarea,
[data-theme="light"] .sidebarContent select { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .sidebarContent input:focus,
[data-theme="light"] .sidebarContent textarea:focus,
[data-theme="light"] .sidebarContent select:focus { background: rgba(0, 0, 0, 0.01); }
[data-theme="light"] .sidebarContent .sideBody { color: var(--text); background: rgba(0, 0, 0, 0.02); border-color: var(--border); }

/* ── Light: unified board header ── */
[data-theme="light"] .boardHeader.unified { background: rgba(255, 255, 255, 0.7); border-color: var(--border); }
[data-theme="light"] .workspaceTitleMain { color: var(--text); }
[data-theme="light"] .memberAvatar { border-color: rgba(0, 0, 0, 0.1); }

/* ── Light: filters bar (modern) ── */
[data-theme="light"] .boardFilters.modern { background: rgba(0, 0, 0, 0.01); border-bottom-color: var(--border); }
[data-theme="light"] .filterLabel { color: rgba(0, 0, 0, 0.35); }
[data-theme="light"] .filterChip { background: rgba(0, 0, 0, 0.04); border-color: var(--border); color: var(--muted); }
[data-theme="light"] .filterChip:hover { background: rgba(0, 0, 0, 0.07); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .filterChip.active { background: rgba(37, 99, 235, 0.1); border-color: rgba(37, 99, 235, 0.3); color: var(--primary); }
[data-theme="light"] .filterChip.danger.active { background: rgba(234, 88, 12, 0.1); border-color: rgba(234, 88, 12, 0.3); }
[data-theme="light"] .filterReset { border-color: var(--border); color: var(--muted); }
[data-theme="light"] .refreshBtn { background: rgba(0, 0, 0, 0.03); border-color: var(--border); }
[data-theme="light"] .refreshBtn:hover { background: rgba(0, 0, 0, 0.06); }
[data-theme="light"] .viewDropdownSelect { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='rgba(0,0,0,0.4)' stroke-width='2.5'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); }
[data-theme="light"] .viewDropdownSelect:hover { background-color: rgba(0, 0, 0, 0.06); border-color: rgba(0, 0, 0, 0.15); }

/* ── Light: bubbles on canvas ── */
[data-theme="light"] .taskBubble {
  border-color: rgba(0, 0, 0, 0.12);
  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.1), inset 0 -3px 8px rgba(0, 0, 0, 0.04), inset 0 2px 5px rgba(255, 255, 255, 0.3);
}
[data-theme="light"] .taskBubble.onFire {
  border-color: rgba(220, 50, 0, 0.35);
  box-shadow: 0 0 16px rgba(255, 80, 0, 0.25), 0 0 40px rgba(255, 40, 0, 0.12), 0 8px 28px rgba(0, 0, 0, 0.1);
}

/* ── Light: shared misc ── */
[data-theme="light"] .summaryDivider { background: rgba(0, 0, 0, 0.1); }
[data-theme="light"] .summaryItem b { color: var(--text); }
[data-theme="light"] .segmented { background: rgba(0, 0, 0, 0.06); }
[data-theme="light"] .segBtn.active { background: rgba(0, 0, 0, 0.08); color: var(--text); }
[data-theme="light"] .search { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .statusPill.open { background: rgba(0, 0, 0, 0.06); }
[data-theme="light"] .toastError { color: #b91c1c; }
[data-theme="light"] .chip.responsible { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }
[data-theme="light"] .userPill { background: rgba(0, 0, 0, 0.03); border-color: var(--border); }
[data-theme="light"] .popover { background: rgba(255, 255, 255, 0.96); border-color: var(--border); }
[data-theme="light"] .notifDot { box-shadow: 0 0 0 2px #fff; }

/* ── Light: chat page ── */
[data-theme="light"] .chatSidebar { background: rgba(245, 247, 250, 0.9); border-right-color: var(--border); }
[data-theme="light"] .chatWsBtn:hover { background: rgba(0, 0, 0, 0.04); color: var(--text); }
[data-theme="light"] .chatWsBtn.active { background: rgba(37, 99, 235, 0.08); color: var(--text); }
[data-theme="light"] .chatHeader { border-bottom-color: var(--border); }
[data-theme="light"] .chatHeaderName { color: var(--text); }
[data-theme="light"] .chatDayDivider::before,
[data-theme="light"] .chatDayDivider::after { background: var(--border); }
[data-theme="light"] .chatBubble { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }
[data-theme="light"] .chatBubbleSelf { background: rgba(37, 99, 235, 0.08); border-color: rgba(37, 99, 235, 0.2); }
[data-theme="light"] .chatBubbleBody { color: var(--text); }
[data-theme="light"] .chatAvatar { background: linear-gradient(135deg, rgba(37, 99, 235, 0.12), rgba(130, 80, 255, 0.08)); border-color: rgba(37, 99, 235, 0.2); color: var(--primary); }
[data-theme="light"] .chatComposer { border-top-color: var(--border); }
[data-theme="light"] .chatInput { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .chatSendBtn { background: linear-gradient(135deg, var(--primary), var(--primary-strong)); color: #fff; }

/* ── Light: profile page ── */
[data-theme="light"] .profileHero { background: rgba(255, 255, 255, 0.8); border-color: var(--border); box-shadow: var(--shadow); }
[data-theme="light"] .profileAvatarLg { background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(130, 80, 255, 0.1)); border-color: rgba(37, 99, 235, 0.25); color: var(--primary); }
[data-theme="light"] .profileName { color: var(--text); }
[data-theme="light"] .profileFormTitle { color: var(--text); }
[data-theme="light"] .profileInput { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .profileBtnGhost { border-color: var(--border); color: var(--muted); }
[data-theme="light"] .profileBtnGhost:hover { background: rgba(0, 0, 0, 0.04); color: var(--text); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .profileTaskItem { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .profileTaskItem:hover { background: rgba(0, 0, 0, 0.04); border-color: rgba(0, 0, 0, 0.12); }
[data-theme="light"] .profileTaskTitle { color: var(--text); }
[data-theme="light"] .profileToastError { background: rgba(239, 68, 68, 0.06); border-color: rgba(239, 68, 68, 0.2); color: #b91c1c; }
[data-theme="light"] .profileToastSuccess { background: rgba(22, 163, 74, 0.06); border-color: rgba(22, 163, 74, 0.2); color: #15803d; }
[data-theme="light"] .userEmail { color: var(--text); }
[data-theme="light"] .userBadge { border-color: var(--border); color: var(--text); }
[data-theme="light"] .userBadge.ok { background: rgba(22, 163, 74, 0.06); border-color: rgba(22, 163, 74, 0.2); }
[data-theme="light"] .userBadge.warn { background: rgba(245, 158, 11, 0.06); border-color: rgba(245, 158, 11, 0.2); }

/* ── Light: admin console ── */
[data-theme="light"] .adminTitle { color: var(--text); }
[data-theme="light"] .adminHeader { border-bottom-color: var(--border); }
[data-theme="light"] .adminRefreshBtn { background: rgba(0, 0, 0, 0.03); border-color: var(--border); }
[data-theme="light"] .adminRefreshBtn:hover { background: rgba(0, 0, 0, 0.06); color: var(--text); border-color: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .adminSpinner { border-color: rgba(0, 0, 0, 0.1); border-top-color: var(--primary); }
[data-theme="light"] .adminAlert { background: rgba(239, 68, 68, 0.06); border-color: rgba(239, 68, 68, 0.2); color: #b91c1c; }
[data-theme="light"] .adminAlertWarn { background: rgba(245, 158, 11, 0.06); border-color: rgba(245, 158, 11, 0.2); color: #92400e; }
[data-theme="light"] .adminAlertWarn code { background: rgba(0, 0, 0, 0.06); }
[data-theme="light"] .adminTab:hover { color: var(--text); background: rgba(0, 0, 0, 0.03); }
[data-theme="light"] .adminTab.active { color: var(--text); background: rgba(0, 0, 0, 0.04); border-color: var(--border); }
[data-theme="light"] .adminTabCount { background: rgba(0, 0, 0, 0.05); }
[data-theme="light"] .adminList { border-top-color: var(--border); }
[data-theme="light"] .adminCard { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .adminCard:hover { background: rgba(0, 0, 0, 0.04); border-color: rgba(0, 0, 0, 0.15); box-shadow: var(--shadow); }
[data-theme="light"] .adminCardSelf { border-color: rgba(37, 99, 235, 0.2); background: rgba(37, 99, 235, 0.03); }
[data-theme="light"] .adminCardHome { border-color: rgba(22, 163, 74, 0.15); background: rgba(22, 163, 74, 0.02); }
[data-theme="light"] .adminCardAvatar { background: linear-gradient(135deg, rgba(37, 99, 235, 0.12), rgba(130, 80, 255, 0.08)); border-color: rgba(37, 99, 235, 0.2); color: var(--primary); }
[data-theme="light"] .adminCardIcon { background: rgba(0, 0, 0, 0.04); border-color: var(--border); }
[data-theme="light"] .adminCardHome .adminCardIcon { background: rgba(22, 163, 74, 0.06); border-color: rgba(22, 163, 74, 0.15); color: #15803d; }
[data-theme="light"] .adminCardPrimary { color: var(--text); }
[data-theme="light"] .adminDot { background: rgba(0, 0, 0, 0.15); }
[data-theme="light"] .adminBadgeYou { background: rgba(37, 99, 235, 0.08); border-color: rgba(37, 99, 235, 0.2); }
[data-theme="light"] .adminBadgeSystem { background: rgba(22, 163, 74, 0.06); border-color: rgba(22, 163, 74, 0.15); color: #15803d; }
[data-theme="light"] .adminCodeChip { background: rgba(0, 0, 0, 0.04); border-color: var(--border); color: var(--muted); }
[data-theme="light"] .adminDeleteBtn { background: rgba(239, 68, 68, 0.04); border-color: rgba(239, 68, 68, 0.15); color: #b91c1c; }
[data-theme="light"] .adminDeleteBtn:hover:not(:disabled) { background: rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.3); color: #991b1b; }
[data-theme="light"] .noticeBox { background: rgba(22, 163, 74, 0.06); border-color: rgba(22, 163, 74, 0.15); color: #15803d; }

/* ── Light: admin workspace members ── */
[data-theme="light"] .adminWsMembers { background: rgba(0, 0, 0, 0.01); border-color: var(--border); }
[data-theme="light"] .adminWsMemberRow { background: rgba(0, 0, 0, 0.02); border-color: var(--border); }
[data-theme="light"] .adminWsMemberRow:hover { background: rgba(0, 0, 0, 0.04); }
[data-theme="light"] .adminWsAddRow { border-top-color: var(--border); }
[data-theme="light"] .adminWsAddSelect { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }

/* ── Light: task comments ── */
[data-theme="light"] .bpCommentsSection { border-top-color: var(--border); }
[data-theme="light"] .bpCommentAvatar { background: linear-gradient(135deg, rgba(37, 99, 235, 0.12), rgba(130, 80, 255, 0.08)); border-color: rgba(37, 99, 235, 0.15); color: var(--primary); }
[data-theme="light"] .bpCommentInput { background: rgba(0, 0, 0, 0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .bpCommentSend { color: #fff; }

/* ── Light: calendar (standalone page & in-canvas) ── */
[data-theme="light"] .calendarCanvas { background: rgba(255, 255, 255, 0.5); }
[data-theme="light"] .calendarTop { border-bottom-color: var(--border); }
[data-theme="light"] .calendarMonthName { color: var(--text); }
[data-theme="light"] .asapLane { border-bottom-color: var(--border); }
[data-theme="light"] .asapPill { background: rgba(234, 88, 12, 0.06); border-color: rgba(234, 88, 12, 0.15); color: #c2410c; }
[data-theme="light"] .asapPill:hover { background: rgba(234, 88, 12, 0.12); border-color: rgba(234, 88, 12, 0.3); }
[data-theme="light"] .asapPill.active { background: rgba(234, 88, 12, 0.15); }
[data-theme="light"] .calendarDayHead { border-bottom-color: var(--border); }
[data-theme="light"] .calendarCell { border-right-color: rgba(0, 0, 0, 0.04); border-bottom-color: rgba(0, 0, 0, 0.04); }
[data-theme="light"] .calendarCell.today { background: rgba(37, 99, 235, 0.04); }
[data-theme="light"] .calendarTask { background: rgba(37, 99, 235, 0.06); border-color: rgba(37, 99, 235, 0.12); color: var(--text); }
[data-theme="light"] .calendarTask:hover { background: rgba(37, 99, 235, 0.12); border-color: rgba(37, 99, 235, 0.25); }
[data-theme="light"] .calendarTask.active { background: rgba(37, 99, 235, 0.18); border-color: rgba(37, 99, 235, 0.4); }

html,
body,
#root {
  min-height: 100%;
}

body {
  margin: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Helvetica,
    Arial,
    "Apple Color Emoji",
    "Segoe UI Emoji";
  background:
    radial-gradient(
      1400px 1200px at 15% 10%,
      rgba(100, 181, 255, 0.2),
      transparent 60%
    ),
    radial-gradient(
      1200px 1000px at 80% 0%,
      rgba(96, 125, 255, 0.16),
      transparent 60%
    ),
    radial-gradient(
      1200px 1000px at 50% 100%,
      rgba(100, 181, 255, 0.16),
      transparent 60%
    ),
    radial-gradient(
      800px 600px at 90% 90%,
      rgba(170, 122, 255, 0.12),
      transparent 60%
    ),
    linear-gradient(180deg, var(--bg0), var(--bg1)) no-repeat;
  background-attachment: fixed;
  background-color: var(--bg1);
  color: var(--text);
}

code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
}

/* Shared */
.spacer {
  flex: 1;
}
.page {
  min-height: 100%;
  display: grid;
  place-items: center;
  padding: 28px;
  box-sizing: border-box;
}
.card,
.panel,
.authCard,
.miniPanel,
.sideCard {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
}
.panel {
  padding: 18px;
}
.card {
  padding: 16px;
}
.muted {
  color: var(--muted);
  font-size: 13px;
}
.kicker {
  color: rgba(255, 255, 255, 0.7);
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}
.h1 {
  font-size: 34px;
  line-height: 1.1;
  margin: 6px 0 8px;
  letter-spacing: -0.02em;
}
.titleLg {
  font-size: 18px;
  font-weight: 650;
  letter-spacing: -0.01em;
}
.panelTitle {
  font-weight: 700;
  letter-spacing: 0.1px;
  margin-bottom: 12px;
}

.errorBox {
  color: #ffd1da;
  background: rgba(255, 77, 109, 0.12);
  border: 1px solid rgba(255, 77, 109, 0.35);
  border-radius: 14px;
  padding: 10px 12px;
  font-size: 13px;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 7px;
  margin: 10px 0 12px;
}
.fieldLabel {
  color: rgba(255, 255, 255, 0.72);
  font-size: 12px;
}
input,
textarea,
select {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  border: 1px solid rgba(255, 255, 255, 0.16);
  border-radius: 14px;
  padding: 12px 12px;
  outline: none;
  box-sizing: border-box;
  font-family: inherit;
  font-size: 14px;
}
select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='rgba(255,255,255,0.5)' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px;
  padding-right: 40px;
}
textarea {
  resize: vertical;
}
input:focus,
textarea:focus,
select:focus {
  border-color: rgba(114, 200, 255, 0.55);
  box-shadow: 0 0 0 4px rgba(114, 200, 255, 0.12);
}
input,
textarea,
select {
  color: #f6f7fb;
}

.primaryBtn,
.secondaryBtn {
  width: auto;
  border-radius: 14px;
  padding: 12px 14px;
  cursor: pointer;
  border: 1px solid rgba(255, 255, 255, 0.16);
}
.primaryBtn {
  background: linear-gradient(
    135deg,
    rgba(100, 181, 255, 0.85),
    rgba(76, 163, 255, 0.85)
  );
  border-color: rgba(100, 181, 255, 0.55);
  color: #000;
  font-weight: 800;
}
.secondaryBtn {
  background: rgba(255, 255, 255, 0.06);
}
.primaryBtn:disabled,
.secondaryBtn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btnFull {
  width: 100%;
}
.headerBtn {
  width: auto;
  padding: 10px 12px;
  border-radius: 14px;
}
.row {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* App frame */
.appShell {
  min-height: 100%;
}
.appTopbar {
  position: sticky;
  top: 0;
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 0 20px;
  height: 54px;
  background: rgba(8, 10, 16, 0.82);
  backdrop-filter: blur(24px) saturate(1.4);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  z-index: 20;
}

.brandLink {
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
  color: inherit;
  flex-shrink: 0;
  transition: opacity 0.15s ease;
}

.brandLink:hover {
  opacity: 0.85;
}

.brandText {
  font-weight: 850;
  font-size: 15px;
  letter-spacing: -0.02em;
  color: #fff;
  background: linear-gradient(135deg, #fff 40%, rgba(114, 200, 255, 0.8));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.logoMark {
  width: 40px;
  height: 40px;
  display: grid;
  place-items: center;
  border-radius: 14px;
  background: rgba(100, 181, 255, 0.18);
  border: 1px solid rgba(100, 181, 255, 0.28);
  box-shadow: 0 12px 30px rgba(100, 181, 255, 0.12);
  font-weight: 900;
}

.logoMark.sm {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  font-size: 11px;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, rgba(100, 181, 255, 0.25), rgba(130, 100, 255, 0.15));
  border: 1px solid rgba(100, 181, 255, 0.3);
  font-weight: 900;
  color: #fff;
  box-shadow: 0 4px 16px rgba(100, 181, 255, 0.15);
}

.userPill {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.12);
}

.navPills {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  padding: 4px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  margin-left: 8px;
}

.navPill {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 7px 14px;
  border-radius: 11px;
  color: rgba(255, 255, 255, 0.55);
  border: 1px solid transparent;
  background: transparent;
  font-weight: 750;
  font-size: 12px;
  text-decoration: none;
  transition: all 0.18s ease;
  white-space: nowrap;
}

.navPill:hover:not(.disabled) {
  color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.05);
}

.navPill.active {
  color: #fff;
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.12);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
}

.navPill.disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.navPillIcon {
  font-size: 13px;
  opacity: 0.7;
  line-height: 1;
}

.headerPrimary {
  width: auto;
  padding: 11px 14px;
  border-radius: 14px;
}

.iconBtn {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(255, 255, 255, 0.04);
  display: grid;
  place-items: center;
  color: rgba(255, 255, 255, 0.6);
  cursor: pointer;
  position: relative;
  font-size: 15px;
  transition: all 0.15s ease;
}

.iconBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.15);
}

.popover {
  position: absolute;
  top: 62px;
  right: 88px;
  width: 260px;
  padding: 12px;
  border-radius: 16px;
  background: rgba(10, 12, 18, 0.92);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: var(--shadow);
}
.popoverTitle {
  font-weight: 800;
  margin-bottom: 6px;
}
.notifDot {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: rgba(100, 181, 255, 1);
  box-shadow: 0 0 0 2px rgba(8, 10, 16, 0.9);
}

.avatarCircle {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(114, 200, 255, 0.2), rgba(170, 122, 255, 0.12));
  border: 1px solid rgba(114, 200, 255, 0.25);
  display: grid;
  place-items: center;
  font-weight: 900;
  font-size: 11px;
  letter-spacing: 0.06em;
  color: #fff;
}

.avatarCircle.sm {
  width: 24px;
  height: 24px;
  font-size: 10px;
}

.chip.company {
  background: rgba(114, 200, 255, 0.1);
  border-color: rgba(114, 200, 255, 0.25);
  color: var(--primary);
  font-weight: 850;
  text-transform: uppercase;
}

.chip.responsible {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
}

.taskMetricsRow {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 16px 0;
}

.metricBox {
  flex: 1;
  min-width: 140px;
  background: rgba(255, 255, 255, 0.03);
  padding: 12px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.metricLabel {
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--muted);
  margin-bottom: 6px;
  opacity: 0.8;
}

.metricValue {
  font-size: 14px;
  font-weight: 750;
  color: var(--text);
}

.responsibleUser {
  display: flex;
  align-items: center;
  font-weight: 750;
  font-size: 14px;
}

.userLink {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 10px 4px 4px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  text-decoration: none;
  transition: all 0.15s ease;
}

.userLink:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.12);
}

.userNameText {
  font-weight: 750;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.7);
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.topbarColorDot {
  width: 8px; height: 8px; border-radius: 999px; flex-shrink: 0;
}

.homeUserColorDot {
  display: inline-block; width: 10px; height: 10px; border-radius: 999px;
  margin-right: 8px; vertical-align: middle;
}

.headerSignOut {
  padding: 6px 14px;
  border-radius: 10px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.45);
  font-size: 11px;
  font-weight: 750;
  cursor: pointer;
  transition: all 0.15s ease;
  white-space: nowrap;
  font-family: inherit;
}

.headerSignOut:hover {
  background: rgba(255, 60, 60, 0.08);
  border-color: rgba(255, 60, 60, 0.2);
  color: #ff8888;
}
.userEmail {
  font-size: 13px;
  color: rgba(255, 255, 255, 0.86);
}
.userBadge {
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: rgba(255, 255, 255, 0.88);
}
.userBadge.ok {
  background: rgba(80, 255, 190, 0.1);
  border-color: rgba(80, 255, 190, 0.25);
}
.userBadge.warn {
  background: rgba(255, 190, 60, 0.1);
  border-color: rgba(255, 190, 60, 0.25);
}

/* ══════════════════════════════════════════════
   LANDING PAGE
   ══════════════════════════════════════════════ */
.landingPage {
  min-height: 100vh;
  background: linear-gradient(170deg, #03050a 0%, #0a0f1f 50%, #080c18 100%);
  color: rgba(255,255,255,0.92);
  overflow-x: hidden;
}

/* Nav */
.landingNav {
  position: sticky; top: 0; z-index: 100;
  background: rgba(3,5,10,0.75); backdrop-filter: blur(20px) saturate(1.4);
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.landingNavInner {
  max-width: 1200px; margin: 0 auto; padding: 14px 32px;
  display: flex; align-items: center; justify-content: space-between;
}
.landingBrand { display: flex; align-items: center; gap: 10px; }
.landingLogo {
  width: 36px; height: 36px; border-radius: 10px; display: grid; place-items: center;
  font-weight: 900; font-size: 14px; color: #fff;
  background: linear-gradient(135deg, rgba(100,181,255,0.25), rgba(130,100,255,0.2));
  border: 1px solid rgba(100,181,255,0.3);
}
.landingLogo.sm { width: 32px; height: 32px; font-size: 12px; }
.landingBrandName { font-size: 20px; font-weight: 800; letter-spacing: -0.03em; }
.landingNavRight { display: flex; align-items: center; gap: 10px; }
.landingSignInBtn {
  padding: 9px 20px; border-radius: 10px; font-size: 14px; font-weight: 600;
  color: rgba(255,255,255,0.8); background: transparent; border: 1px solid rgba(255,255,255,0.12);
  text-decoration: none; transition: all 0.15s;
}
.landingSignInBtn:hover { color: #fff; border-color: rgba(255,255,255,0.25); background: rgba(255,255,255,0.05); }
.landingGetStartedBtnSm {
  padding: 9px 20px; border-radius: 10px; font-size: 14px; font-weight: 700;
  color: #fff; background: linear-gradient(135deg, #64b5ff, #8264ff); border: none;
  text-decoration: none; transition: opacity 0.15s, transform 0.1s;
}
.landingGetStartedBtnSm:hover { opacity: 0.9; transform: translateY(-1px); }

/* Hero */
.landingHero {
  position: relative; text-align: center;
  padding: 100px 32px 80px; max-width: 1200px; margin: 0 auto;
}
.landingHeroInner { position: relative; z-index: 1; }
.landingBadge {
  display: inline-block; padding: 6px 16px; border-radius: 999px; font-size: 12px; font-weight: 700;
  text-transform: uppercase; letter-spacing: 0.08em;
  background: rgba(100,181,255,0.1); border: 1px solid rgba(100,181,255,0.2); color: var(--primary);
  margin-bottom: 24px;
}
.landingHeadline {
  font-size: 72px; line-height: 1.05; font-weight: 900; letter-spacing: -0.045em;
  margin: 0 0 24px;
}
.landingGrad {
  background: linear-gradient(135deg, #64b5ff 0%, #a87aff 50%, #ff6bca 100%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.landingSubtext {
  font-size: 18px; line-height: 1.65; color: rgba(255,255,255,0.55); max-width: 640px;
  margin: 0 auto 40px;
}
.landingCTAs { display: flex; align-items: center; justify-content: center; gap: 14px; margin-bottom: 56px; }
.landingCTAPrimary {
  padding: 14px 32px; border-radius: 14px; font-size: 16px; font-weight: 700; color: #fff;
  background: linear-gradient(135deg, #64b5ff, #8264ff); border: none;
  text-decoration: none; transition: opacity 0.15s, transform 0.1s, box-shadow 0.2s;
  box-shadow: 0 4px 24px rgba(100,181,255,0.2);
}
.landingCTAPrimary:hover { opacity: 0.92; transform: translateY(-2px); box-shadow: 0 8px 32px rgba(100,181,255,0.3); }
.landingCTASecondary {
  padding: 14px 28px; border-radius: 14px; font-size: 16px; font-weight: 600;
  color: rgba(255,255,255,0.75); border: 1px solid rgba(255,255,255,0.12); background: transparent;
  text-decoration: none; transition: all 0.15s;
}
.landingCTASecondary:hover { color: #fff; border-color: rgba(255,255,255,0.25); background: rgba(255,255,255,0.04); }

.landingStats { display: flex; align-items: center; justify-content: center; gap: 48px; }
.landingStat { text-align: center; }
.landingStatVal { font-size: 28px; font-weight: 800; letter-spacing: -0.03em; color: #fff; }
.landingStatLabel { font-size: 13px; color: rgba(255,255,255,0.45); margin-top: 4px; }

/* Floating hero bubbles */
.landingBubblesWrap { position: absolute; inset: 0; pointer-events: none; z-index: 0; }
.landingBubble {
  position: absolute;
  width: calc(80px + var(--i) * 22px);
  height: calc(80px + var(--i) * 22px);
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(100,181,255,0.12), rgba(130,100,255,0.06));
  border: 1px solid rgba(255,255,255,0.06);
  opacity: 0.35;
  animation: floatSlow calc(12s + var(--i) * 1.2s) ease-in-out infinite;
  animation-delay: calc(var(--i) * -1.5s);
}
.landingBubble:nth-child(1) { left: 5%; top: 15%; }
.landingBubble:nth-child(2) { right: 8%; top: 10%; }
.landingBubble:nth-child(3) { left: 15%; bottom: 20%; }
.landingBubble:nth-child(4) { right: 12%; bottom: 15%; }
.landingBubble:nth-child(5) { left: 50%; top: 5%; }
.landingBubble:nth-child(6) { left: 30%; top: 60%; }
.landingBubble:nth-child(7) { right: 25%; top: 40%; }
.landingBubble:nth-child(8) { left: 70%; bottom: 25%; }

/* Features */
.landingFeatures {
  padding: 80px 32px; background: rgba(255,255,255,0.015);
  border-top: 1px solid rgba(255,255,255,0.04); border-bottom: 1px solid rgba(255,255,255,0.04);
}
.landingFeaturesInner { max-width: 1100px; margin: 0 auto; }
.landingFeaturesHeader { text-align: center; margin-bottom: 52px; }
.landingSectionBadge {
  display: inline-block; padding: 5px 14px; border-radius: 999px; font-size: 11px; font-weight: 700;
  text-transform: uppercase; letter-spacing: 0.1em;
  background: rgba(130,100,255,0.1); border: 1px solid rgba(130,100,255,0.2); color: #a87aff;
  margin-bottom: 16px;
}
.landingFeaturesTitle { font-size: 40px; font-weight: 800; letter-spacing: -0.035em; margin: 0 0 12px; }
.landingFeaturesSub { font-size: 16px; color: rgba(255,255,255,0.5); max-width: 560px; margin: 0 auto; line-height: 1.6; }

.landingFeatureGrid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;
}
.landingFeatureCard {
  padding: 28px 24px; border-radius: 18px;
  background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06);
  transition: all 0.2s;
}
.landingFeatureCard:hover {
  background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.12);
  transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,0.3);
}
.landingFeatureIcon { font-size: 32px; margin-bottom: 14px; }
.landingFeatureTitle { font-size: 15px; font-weight: 700; margin-bottom: 6px; color: rgba(255,255,255,0.92); }
.landingFeatureDesc { font-size: 13px; color: rgba(255,255,255,0.45); line-height: 1.55; }

/* CTA band */
.landingCTABand {
  padding: 80px 32px; text-align: center;
}
.landingCTABandInner { max-width: 640px; margin: 0 auto; }
.landingCTABandTitle { font-size: 36px; font-weight: 800; letter-spacing: -0.03em; margin: 0 0 12px; }
.landingCTABandSub { font-size: 16px; color: rgba(255,255,255,0.5); margin-bottom: 32px; line-height: 1.6; }

/* Footer */
.landingFooter {
  border-top: 1px solid rgba(255,255,255,0.06); padding: 24px 32px;
}
.landingFooterInner {
  max-width: 1200px; margin: 0 auto;
  display: flex; align-items: center; justify-content: space-between;
}
.landingFooterBrand { display: flex; align-items: center; gap: 8px; }
.landingFooterName { font-size: 14px; font-weight: 700; color: rgba(255,255,255,0.6); }
.landingFooterCopy { font-size: 13px; color: rgba(255,255,255,0.35); }

/* ── Light: landing page ── */
[data-theme="light"] .landingPage {
  background: linear-gradient(170deg, #f0f4fa 0%, #ffffff 50%, #f4f6fa 100%);
  color: var(--text);
}
[data-theme="light"] .landingNav { background: rgba(255,255,255,0.8); border-bottom-color: var(--border); }
[data-theme="light"] .landingBrandName { color: var(--text); }
[data-theme="light"] .landingLogo { background: linear-gradient(135deg, rgba(37,99,235,0.15), rgba(130,100,255,0.1)); border-color: rgba(37,99,235,0.25); color: var(--primary); }
[data-theme="light"] .landingSignInBtn { color: var(--muted); border-color: var(--border); }
[data-theme="light"] .landingSignInBtn:hover { color: var(--text); border-color: rgba(0,0,0,0.2); background: rgba(0,0,0,0.03); }
[data-theme="light"] .landingGetStartedBtnSm { background: linear-gradient(135deg, #2563eb, #7c3aed); }
[data-theme="light"] .landingBadge { background: rgba(37,99,235,0.08); border-color: rgba(37,99,235,0.15); color: var(--primary); }
[data-theme="light"] .landingHeadline { color: var(--text); }
[data-theme="light"] .landingGrad { background: linear-gradient(135deg, #2563eb, #7c3aed, #db2777); -webkit-background-clip: text; background-clip: text; }
[data-theme="light"] .landingSubtext { color: var(--muted); }
[data-theme="light"] .landingCTAPrimary { background: linear-gradient(135deg, #2563eb, #7c3aed); box-shadow: 0 4px 24px rgba(37,99,235,0.15); }
[data-theme="light"] .landingCTAPrimary:hover { box-shadow: 0 8px 32px rgba(37,99,235,0.25); }
[data-theme="light"] .landingCTASecondary { color: var(--muted); border-color: var(--border); }
[data-theme="light"] .landingCTASecondary:hover { color: var(--text); background: rgba(0,0,0,0.03); }
[data-theme="light"] .landingStatVal { color: var(--text); }
[data-theme="light"] .landingStatLabel { color: var(--muted); }
[data-theme="light"] .landingBubble { background: radial-gradient(circle at 30% 30%, rgba(37,99,235,0.08), rgba(130,100,255,0.04)); border-color: rgba(37,99,235,0.08); }
[data-theme="light"] .landingFeatures { background: rgba(0,0,0,0.015); border-color: var(--border); }
[data-theme="light"] .landingSectionBadge { background: rgba(130,100,255,0.06); border-color: rgba(130,100,255,0.12); }
[data-theme="light"] .landingFeaturesTitle { color: var(--text); }
[data-theme="light"] .landingFeaturesSub { color: var(--muted); }
[data-theme="light"] .landingFeatureCard { background: rgba(255,255,255,0.8); border-color: var(--border); box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
[data-theme="light"] .landingFeatureCard:hover { background: #fff; border-color: rgba(0,0,0,0.12); box-shadow: 0 8px 32px rgba(0,0,0,0.08); }
[data-theme="light"] .landingFeatureTitle { color: var(--text); }
[data-theme="light"] .landingFeatureDesc { color: var(--muted); }
[data-theme="light"] .landingCTABandTitle { color: var(--text); }
[data-theme="light"] .landingCTABandSub { color: var(--muted); }
[data-theme="light"] .landingFooter { border-top-color: var(--border); }
[data-theme="light"] .landingFooterName { color: var(--muted); }
[data-theme="light"] .landingFooterCopy { color: rgba(0,0,0,0.3); }


/* ══════════════════════════════════════════════
   AUTH PAGE (clean focused form)
   ══════════════════════════════════════════════ */
.authPage {
  min-height: 100vh; position: relative; overflow: hidden;
  background: var(--bg0);
  display: flex; flex-direction: column;
}

/* Nav */
.authPageNav {
  padding: 16px 32px; display: flex; align-items: center;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.authPageBrand {
  display: flex; align-items: center; gap: 10px; text-decoration: none; color: var(--text);
}
.authPageBrandName { font-size: 18px; font-weight: 800; letter-spacing: -0.03em; }

/* Center card */
.authPageCenter {
  flex: 1; display: flex; align-items: center; justify-content: center;
  padding: 32px 20px; position: relative; z-index: 1;
}
.authCard3 {
  width: min(440px, 94vw); padding: 36px 32px; border-radius: 22px;
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(12px);
}

/* Tabs */
.authTabs3 {
  display: grid; grid-template-columns: 1fr 1fr; gap: 6px; padding: 5px;
  border-radius: 14px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.07);
  margin-bottom: 28px;
}
.authTab3 {
  border: 1px solid transparent; background: transparent; color: rgba(255,255,255,0.5);
  border-radius: 11px; padding: 10px 14px; font-size: 14px; font-weight: 600;
  cursor: pointer; transition: all 0.15s;
}
.authTab3.active {
  color: #fff; background: linear-gradient(135deg, rgba(100,181,255,0.16), rgba(130,100,255,0.1));
  border-color: rgba(100,181,255,0.22);
}
.authTab3:hover:not(.active):not(:disabled) { color: rgba(255,255,255,0.75); background: rgba(255,255,255,0.03); }

/* Header */
.authCard3Header { margin-bottom: 24px; }
.authCard3Title { font-size: 28px; font-weight: 800; letter-spacing: -0.03em; margin: 0 0 6px; }
.authCard3Sub { font-size: 14px; color: var(--muted); margin: 0; }

/* Forgot password */
.authForgotRow { text-align: right; margin: -8px 0 12px; }
.authForgotLink {
  background: none; border: none; font-size: 13px; color: var(--primary);
  cursor: pointer; font-weight: 500;
}
.authForgotLink:hover { text-decoration: underline; }

/* Footer */
.authCard3Footer {
  margin-top: 20px; text-align: center; font-size: 13px; color: var(--muted);
}

/* Background bubbles */
.authPageBubbles {
  position: fixed; inset: 0; pointer-events: none; z-index: 0;
}
.authPageBubble {
  position: absolute;
  width: calc(100px + var(--i) * 30px);
  height: calc(100px + var(--i) * 30px);
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(100,181,255,0.08), rgba(130,100,255,0.04));
  border: 1px solid rgba(255,255,255,0.04);
  opacity: 0.3;
  animation: floatSlow calc(14s + var(--i) * 1.5s) ease-in-out infinite;
  animation-delay: calc(var(--i) * -2s);
}
.authPageBubble:nth-child(1) { left: 5%; top: 20%; }
.authPageBubble:nth-child(2) { right: 10%; top: 15%; }
.authPageBubble:nth-child(3) { left: 20%; bottom: 10%; }
.authPageBubble:nth-child(4) { right: 15%; bottom: 20%; }
.authPageBubble:nth-child(5) { left: 55%; top: 8%; }

/* Shared auth components */
.authField { display: block; margin-bottom: 16px; }
.authFieldLabel { font-size: 13px; font-weight: 600; color: var(--text); margin-bottom: 6px; display: flex; align-items: center; gap: 4px; }
.authRequired { color: var(--danger); font-weight: 500; }
.authOptional { color: var(--muted); font-weight: 400; font-size: 11px; }
.authField input {
  width: 100%; padding: 11px 14px; border-radius: 10px; font-size: 14px;
  background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
  color: var(--text); outline: none; transition: border-color 0.15s, box-shadow 0.15s; box-sizing: border-box;
}
.authField input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(100,181,255,0.15); }
.authFieldHint { font-size: 11px; color: var(--muted); margin-top: 4px; }

.authSuccess {
  padding: 10px 14px; border-radius: 10px; font-size: 13px; margin-bottom: 14px;
  background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.25); color: #22c55e;
}
.authError {
  padding: 10px 14px; border-radius: 10px; font-size: 13px; margin-bottom: 14px;
  background: rgba(239,68,68,0.08); border: 1px solid rgba(239,68,68,0.2); color: #f87171; line-height: 1.5;
}

.authSubmitBtn {
  width: 100%; padding: 13px; border: none; border-radius: 12px; font-size: 15px; font-weight: 700;
  cursor: pointer; color: #fff; letter-spacing: -0.01em;
  background: linear-gradient(135deg, #64b5ff, #8264ff);
  transition: opacity 0.15s, transform 0.1s; margin-top: 4px;
}
.authSubmitBtn:hover:not(:disabled) { opacity: 0.92; transform: translateY(-1px); }
.authSubmitBtn:disabled { opacity: 0.45; cursor: not-allowed; }

.authSwitchLink {
  background: none; border: none; color: var(--primary); cursor: pointer; font-weight: 600; font-size: 13px;
}
.authSwitchLink:hover { text-decoration: underline; }

/* ── Light: auth page ── */
[data-theme="light"] .authPage { background: var(--bg1); }
[data-theme="light"] .authPageNav { border-bottom-color: var(--border); }
[data-theme="light"] .authCard3 { background: rgba(255,255,255,0.8); border-color: var(--border); box-shadow: 0 8px 40px rgba(0,0,0,0.06); backdrop-filter: none; }
[data-theme="light"] .authTabs3 { background: rgba(0,0,0,0.03); border-color: var(--border); }
[data-theme="light"] .authTab3 { color: var(--muted); }
[data-theme="light"] .authTab3.active { color: var(--text); background: rgba(37,99,235,0.08); border-color: rgba(37,99,235,0.18); }
[data-theme="light"] .authTab3:hover:not(.active):not(:disabled) { color: var(--text); background: rgba(0,0,0,0.03); }
[data-theme="light"] .authField input { background: rgba(0,0,0,0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .authField input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }
[data-theme="light"] .authSubmitBtn { background: linear-gradient(135deg, #2563eb, #7c3aed); }
[data-theme="light"] .authError { background: rgba(239,68,68,0.06); border-color: rgba(239,68,68,0.15); color: #dc2626; }
[data-theme="light"] .authSuccess { background: rgba(34,197,94,0.06); border-color: rgba(34,197,94,0.15); color: #16a34a; }
[data-theme="light"] .authPageBubble { background: radial-gradient(circle at 30% 30%, rgba(37,99,235,0.06), rgba(130,100,255,0.03)); border-color: rgba(37,99,235,0.06); }

/* Legacy compat */
.gradText {
  background: linear-gradient(135deg, rgba(114,200,255,1), rgba(170,122,255,1));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}

/* Workspaces */
.screen {
  min-height: calc(100% - 62px);
  padding: 12px 20px;
  box-sizing: border-box;
}
.screenInner {
  width: min(1440px, 100%);
  margin: 0 auto;
}
.headerRow {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 18px;
}
.grid2 {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 16px;
}
.wsList {
  display: grid;
  gap: 10px;
}
.wsCard {
  text-align: left;
  padding: 14px;
  border-radius: 16px;
  background: var(--panel2);
  border: 1px solid rgba(255, 255, 255, 0.12);
  cursor: pointer;
}
.wsCard:hover {
  border-color: rgba(114, 200, 255, 0.35);
}
.wsName {
  font-weight: 750;
}
.wsMeta {
  color: rgba(255, 255, 255, 0.66);
  font-size: 12px;
  margin-top: 6px;
}
.wsGo {
  margin-top: 10px;
  font-size: 13px;
  color: rgba(114, 200, 255, 0.9);
}
.split {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.miniPanel {
  padding: 14px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.1);
}
.miniTitle {
  font-weight: 700;
  margin-bottom: 6px;
}

/* New Workspaces page layout (centered, compact) */
.wsScreen {
  padding-top: 20px;
}
.wsCenter {
  width: 100%;
  max-width: 1180px;
  margin: 0 auto;
}
.wsHero {
  margin: 0 0 10px;
}
.wsTitle {
  font-size: 28px;
  font-weight: 850;
  letter-spacing: -0.03em;
  margin: 6px 0 6px;
}
/* Dashboard layout grid */
.dashboardLayout {
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: 20px;
  align-items: start;
  margin-bottom: 20px;
}

.dashboardSection {
  padding: 24px;
  border-radius: 24px;
  background: rgba(255, 255, 255, 0.035);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 24px;
}

.dashboardSection:last-child {
  margin-bottom: 0;
}

.dashboardActions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  align-items: stretch;
}

.dashboardActions .dashboardSection {
  margin-bottom: 0;
  flex: 1;
}

.wsMini {
  background: rgba(255, 255, 255, 0.02);
  border-color: rgba(255, 255, 255, 0.05);
}

.wsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
}

.wsTile {
  text-align: left;
  padding: 18px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  cursor: pointer;
  transition: all 0.2s ease;
}

.wsTile:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.wsTileTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
}

.wsName {
  font-weight: 850;
  font-size: 16px;
  letter-spacing: -0.01em;
}

.wsCount {
  width: 28px;
  height: 28px;
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  display: grid;
  place-items: center;
  font-size: 12px;
  font-weight: 800;
}

.wsMeta {
  font-size: 12px;
  color: var(--muted);
}

.wsListStack {
  display: grid;
  gap: 12px;
}

.wsTaskTile {
  padding: 14px 16px;
}

.wsTaskTile .wsName {
  font-size: 14px;
}

.wsTag {
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--muted);
}

.wsGo {
  display: none;
}

@media (max-width: 1080px) {
  .dashboardLayout {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  .dashboardActions {
    grid-template-columns: 1fr;
  }
  .wsGrid {
    grid-template-columns: 1fr;
  }
}

/* List View Styles */
.listViewCanvas {
  flex: 1;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
  box-shadow: var(--shadow);
}

.listViewHeader {
  padding: 16px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  align-items: baseline;
  justify-content: space-between;
}

.listViewTitle {
  font-size: 18px;
  font-weight: 850;
  letter-spacing: -0.02em;
}

.listViewScroll {
  flex: 1;
  overflow-y: auto;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.listViewRow {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 16px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  cursor: pointer;
  transition: all 0.15s ease;
}

.listViewRow:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.15);
  transform: translateX(4px);
}

.listViewRow.active {
  background: rgba(100, 181, 255, 0.08);
  border-color: rgba(100, 181, 255, 0.3);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.listViewRow.done {
  opacity: 0.6;
}

.listViewStatus {
  flex-shrink: 0;
}

.statusCircle {
  width: 24px;
  height: 24px;
  border-radius: 999px;
  border: 2px solid rgba(255, 255, 255, 0.2);
  background: transparent;
  display: grid;
  place-items: center;
  cursor: pointer;
  color: #fff;
  font-size: 14px;
  font-weight: 900;
  transition: all 0.2s ease;
}

.statusCircle.done {
  background: var(--primary);
  border-color: var(--primary);
}

.statusCircle:hover {
  border-color: var(--primary);
  transform: scale(1.1);
}

.listViewContent {
  flex: 1;
  min-width: 0;
}

.listViewMain {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 4px;
}

.listViewTaskTitle {
  font-weight: 750;
  font-size: 15px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.done .listViewTaskTitle {
  text-decoration: line-through;
  color: var(--muted);
}

.asapBadge {
  background: rgba(255, 90, 40, 0.15);
  border: 1px solid rgba(255, 90, 40, 0.3);
  color: #ff9e7a;
  font-size: 10px;
  font-weight: 900;
  padding: 2px 6px;
  border-radius: 6px;
  text-transform: uppercase;
}

.listViewMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.metaItem {
  font-size: 12px;
  color: var(--muted);
  display: flex;
  align-items: center;
  gap: 4px;
}

.metaItem.company {
  color: var(--primary);
  font-weight: 700;
}

.listViewChevron {
  color: var(--muted);
  font-size: 20px;
  font-weight: 300;
  opacity: 0.5;
}

/* People View Styles */
.peopleViewCanvas {
  flex: 1;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
  box-shadow: var(--shadow);
}

.peopleViewScroll {
  flex: 1;
  display: flex;
  gap: 20px;
  padding: 20px;
  overflow-x: auto;
  overflow-y: hidden;
  align-items: flex-start;
  scroll-behavior: smooth;
}

/* Custom scrollbar for horizontal scroll */
.peopleViewScroll::-webkit-scrollbar {
  height: 8px;
}
.peopleViewScroll::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.02);
  border-radius: 10px;
}
.peopleViewScroll::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
}
.peopleViewScroll::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.15);
}

.personColumn {
  flex: 0 0 300px;
  display: flex;
  flex-direction: column;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  max-height: 100%;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

.personColumn.unassigned {
  background: rgba(255, 255, 255, 0.015);
  border-style: dashed;
}

.personHeader {
  padding: 16px;
  background: rgba(255, 255, 255, 0.04);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  align-items: center;
  gap: 12px;
}

.personAvatar {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: var(--user-color, rgba(255, 255, 255, 0.1));
  border: 1px solid rgba(255, 255, 255, 0.2);
  display: grid;
  place-items: center;
  font-weight: 850;
  color: #000;
  font-size: 14px;
}

.unassigned .personAvatar {
  background: rgba(255, 255, 255, 0.05);
  color: var(--muted);
}

.personName {
  font-weight: 850;
  font-size: 15px;
  color: var(--text);
}

.personTaskCount {
  font-size: 12px;
  color: var(--muted);
}

.personTasksScroll {
  flex: 1;
  overflow-y: auto;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.personTaskCard {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.personTaskCard:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.personTaskCard.active {
  background: rgba(100, 181, 255, 0.1);
  border-color: rgba(100, 181, 255, 0.4);
  box-shadow: 0 4px 12px rgba(100, 181, 255, 0.1);
}

.personTaskCard.done {
  opacity: 0.5;
}

.personTaskTitle {
  font-weight: 750;
  font-size: 14px;
  line-height: 1.3;
  margin-bottom: 8px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.done .personTaskTitle {
  text-decoration: line-through;
}

.personTaskMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.personTaskChip {
  font-size: 10px;
  font-weight: 800;
  padding: 2px 6px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--muted);
}

.personTaskChip.company {
  color: var(--primary);
  text-transform: uppercase;
}

.personEmpty {
  text-align: center;
  padding: 20px;
  font-size: 13px;
  color: var(--muted);
  font-style: italic;
}

/* View Dropdown Styles */
.viewDropdownWrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
}

.viewDropdownSelect {
  appearance: none;
  background: rgba(255, 255, 255, 0.06);
  color: var(--text);
  border: 1px solid rgba(255, 255, 255, 0.16);
  border-radius: 12px;
  padding: 8px 36px 8px 14px;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  outline: none;
  transition: all 0.2s ease;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='rgba(255,255,255,0.6)' stroke-width='2.5'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 14px;
}

.viewDropdownSelect:hover {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.25);
}

.viewDropdownSelect:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(100, 181, 255, 0.15);
}

/* Unified Header Styles */
.boardHeader.unified {
  width: min(1320px, 100%);
  margin: 0 auto 12px;
  padding: 12px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  box-shadow: var(--shadow);
  box-sizing: border-box;
}

.workspaceTitleMain {
  font-size: 24px;
  font-weight: 900;
  letter-spacing: -0.04em;
  color: #fff;
  margin-bottom: 2px;
}

.boardHeaderLeft .summaryDetails {
  margin-top: 0;
  opacity: 0.8;
  font-size: 12px;
}

.memberRow.fullList {
  display: flex;
  flex-wrap: wrap;
  max-width: 320px;
  justify-content: flex-end;
  gap: 4px;
}

.memberAvatar {
  width: 28px;
  height: 28px;
  font-size: 10px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  background: var(--user-color, rgba(255, 255, 255, 0.06));
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: #000;
  font-weight: 800;
}

/* Modern Filters Bar */
.boardFilters.modern {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 10px 16px;
  background: rgba(255, 255, 255, 0.02);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(20px);
  border-radius: 16px 16px 0 0;
}

.filterSection {
  display: flex;
  align-items: center;
  gap: 8px;
}

.filterLabel {
  font-size: 9px;
  font-weight: 900;
  color: rgba(255, 255, 255, 0.4);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  white-space: nowrap;
}

.filterGroup {
  display: flex;
  gap: 6px;
}

.filterChip {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.7);
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 9px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.filterChip:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

.filterChip.active {
  background: rgba(100, 181, 255, 0.2);
  border-color: rgba(100, 181, 255, 0.4);
  color: #fff;
}

.filterChip.danger.active {
  background: rgba(255, 90, 40, 0.25);
  border-color: rgba(255, 90, 40, 0.45);
}

.filterSpacer {
  flex: 1;
}

.refreshBtn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  font-size: 11px;
  font-weight: 750;
  padding: 6px 12px;
  height: 32px;
  display: flex;
  align-items: center;
  border-radius: 12px;
  cursor: pointer;
}

.refreshBtn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

.filterReset {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: rgba(255, 255, 255, 0.5);
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 9px;
  font-weight: 900;
  cursor: pointer;
  letter-spacing: 0.05em;
  transition: all 0.2s ease;
}

/* Unified Sidebar Styles */
.boardGrid2 {
  width: min(1320px, 100%);
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 16px;
  align-items: stretch;
  height: calc(100vh - 140px);
  box-sizing: border-box;
}

.unifiedSidebar {
  display: flex;
  flex-direction: column;
  background: rgba(10, 12, 18, 0.4);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 24px 64px rgba(0, 0, 0, 0.4);
}

.sidebarHeader {
  padding: 16px;
  background: rgba(255, 255, 255, 0.02);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.sidebarTabs {
  display: flex;
  background: rgba(0, 0, 0, 0.3);
  padding: 4px;
  border-radius: 16px;
  gap: 2px;
}

.sidebarTab {
  flex: 1;
  padding: 10px;
  border-radius: 12px;
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebarTab.active {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.sidebarTab:hover:not(.active):not(.disabled) {
  color: #fff;
  background: rgba(255, 255, 255, 0.05);
}

.sidebarTab.disabled {
  opacity: 0.2;
  cursor: not-allowed;
}

.sidebarContent {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
}

/* Modern Task Row in Sidebar */
.sidebarContent .taskRow {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 16px;
  padding: 14px;
  margin-bottom: 10px;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  gap: 8px;
  text-align: left;
  cursor: pointer;
  width: 100%;
}

.sidebarContent .taskRow:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.12);
  transform: translateY(-2px);
}

.sidebarContent .taskRow.active {
  background: rgba(100, 181, 255, 0.08);
  border-color: rgba(100, 181, 255, 0.3);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.sidebarContent .taskRowTitle {
  font-size: 14px;
  font-weight: 750;
  color: #fff;
  line-height: 1.3;
}

.sidebarContent .taskRowMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.sidebarContent .chip {
  font-size: 10px;
  padding: 4px 8px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-weight: 700;
  color: var(--muted);
}

/* Details & Forms */
.sidebarContent .sideCard {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.sidebarContent .panelTitle {
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  margin-bottom: 0;
}

.sidebarContent .field {
  margin: 0;
  gap: 8px;
  display: flex;
  flex-direction: column;
}

.sidebarContent .fieldLabel {
  font-size: 11px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
}

.sidebarContent input, 
.sidebarContent textarea, 
.sidebarContent select {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 13px;
  transition: all 0.2s ease;
  color: #fff;
  font-family: inherit;
}

.sidebarContent input:focus, 
.sidebarContent textarea:focus, 
.sidebarContent select:focus {
  background: rgba(255, 255, 255, 0.07);
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(100, 181, 255, 0.1);
  outline: none;
}

.sidebarContent .sideBody {
  font-size: 14px;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.8);
  background: rgba(255, 255, 255, 0.03);
  padding: 14px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.bubbleCanvas, .listViewCanvas, .peopleViewCanvas, .calendarCanvas, .kanbanCanvas {
  min-height: 0 !important;
  height: 100%;
}

.mb-12 { margin-bottom: 12px; }
.mt-14 { margin-top: 14px; }
.p-10 { padding: 10px; }

/* ── Bubble base ── */
.taskBubble {
  position: absolute;
  left: 0;
  top: 0;
  transform: translate3d(var(--x, 0), var(--y, 0), 0);
  border-radius: 999px;
  border: 1.5px solid rgba(255, 255, 255, 0.22);
  background: radial-gradient(
    circle at 32% 28%,
    rgba(255, 255, 255, 0.28),
    var(--user-color, rgba(255, 255, 255, 0.12)) 70%
  );
  box-shadow:
    0 8px 30px rgba(0, 0, 0, 0.25),
    inset 0 -4px 12px rgba(0, 0, 0, 0.12),
    inset 0 2px 6px rgba(255, 255, 255, 0.15);
  padding: 0;
  text-align: center;
  cursor: pointer;
  overflow: visible;
  box-sizing: border-box;
  will-change: transform;
  animation: bubblePulse 5s ease-in-out infinite;
  color: #fff;
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
}

/* Accessibility: disable animations for motion-sensitive users */
@media (prefers-reduced-motion: reduce) {
  .taskBubble, .bubbleInner, .bubbleFireRing, .bubbleFireRing::before, .bubbleFireRing::after { animation: none !important; }
}
.taskBubble:hover {
  border-color: rgba(255, 255, 255, 0.45);
  box-shadow:
    0 12px 44px rgba(0, 0, 0, 0.35),
    inset 0 -4px 12px rgba(0, 0, 0, 0.12),
    inset 0 2px 6px rgba(255, 255, 255, 0.2);
}

/* ── Bubble inner ── */
.bubbleInner {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 4px;
  padding: 8px;
  box-sizing: border-box;
  transition: transform 260ms ease, opacity 260ms ease;
  color: #fff;
  font-weight: 750;
  position: relative;
  z-index: 2;
}

.taskBubble.popping .bubbleInner {
  transform: scale(0.25);
  opacity: 0;
}

/* ── Urgency overlay (red glow that intensifies) ── */
.taskBubble.urgent::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 999px;
  pointer-events: none;
  background: radial-gradient(
    circle at 50% 55%,
    rgba(255, 40, 20, 0.6),
    rgba(200, 0, 0, 0.35) 50%,
    transparent 72%
  );
  opacity: calc(var(--urgency, 0) * 0.9);
  mix-blend-mode: screen;
  z-index: 1;
}

/* ── Urgency: gentle throb + soft text shake ── */
.taskBubble.urgent .bubbleInner {
  animation:
    urgentThrob var(--throbDur, 5s) ease-in-out infinite,
    textShake var(--shakeDur, 2s) ease-in-out infinite;
}

@keyframes urgentThrob {
  0%, 100% { filter: saturate(1.1) brightness(1); }
  50% { filter: saturate(1.3) brightness(1.08); }
}

/* Very gentle text shake — max ~1.3px movement, slow and smooth */
@keyframes textShake {
  0%, 100% { transform: translate3d(0, 0, 0); }
  20% { transform: translate3d(var(--shakeAmp, 0.5px), calc(var(--shakeAmp, 0.5px) * -0.4), 0); }
  40% { transform: translate3d(calc(var(--shakeAmp, 0.5px) * -0.6), var(--shakeAmp, 0.5px), 0); }
  60% { transform: translate3d(var(--shakeAmp, 0.5px), calc(var(--shakeAmp, 0.5px) * 0.3), 0); }
  80% { transform: translate3d(calc(var(--shakeAmp, 0.5px) * -0.4), calc(var(--shakeAmp, 0.5px) * -0.5), 0); }
}

/* ── FIRE effect for ASAP / very urgent — wraps AROUND the bubble ── */
/* ── Continuous fire ring around bubble ── */
.bubbleFireRing {
  position: absolute;
  inset: -10%;
  border-radius: 50%;
  pointer-events: none;
  z-index: -1;
  opacity: 0;
}

.taskBubble.onFire .bubbleFireRing {
  opacity: 1;
  background: radial-gradient(circle, transparent 48%, rgba(255,120,20,0.5) 58%, rgba(255,60,10,0.25) 66%, rgba(255,180,50,0.1) 74%, transparent 84%);
  animation: fireRingPulse 1.5s ease-in-out infinite alternate, fireRingSpin 6s linear infinite;
}

/* Layered pseudo-elements for depth */
.bubbleFireRing::before,
.bubbleFireRing::after {
  content: "";
  position: absolute;
  inset: -4%;
  border-radius: 50%;
}
.bubbleFireRing::before {
  background: radial-gradient(circle, transparent 46%, rgba(255,160,40,0.35) 56%, rgba(255,80,10,0.15) 66%, transparent 78%);
  filter: blur(4px);
  animation: fireRingPulse 1.1s ease-in-out infinite alternate-reverse;
}
.bubbleFireRing::after {
  background: radial-gradient(circle, transparent 50%, rgba(255,200,60,0.22) 60%, rgba(255,100,15,0.1) 70%, transparent 82%);
  filter: blur(7px);
  animation: fireRingPulse 1.8s ease-in-out infinite alternate;
}

@keyframes fireRingPulse {
  0%   { transform: scale(1);   opacity: 0.7; }
  100% { transform: scale(1.05); opacity: 1; }
}
@keyframes fireRingSpin {
  0%   { filter: blur(4px) hue-rotate(0deg); }
  50%  { filter: blur(5px) hue-rotate(6deg); }
  100% { filter: blur(4px) hue-rotate(0deg); }
}
/* Fire: pulsing outer glow — applies to both .onFire and .onFire.urgent */
.taskBubble.onFire {
  border-color: rgba(255, 70, 10, 0.45);
  box-shadow:
    0 0 18px rgba(255, 80, 0, 0.35),
    0 0 40px rgba(255, 40, 0, 0.15),
    0 8px 30px rgba(0, 0, 0, 0.25);
  animation: bubblePulse 5s ease-in-out infinite, fireGlow 1.4s ease-in-out infinite alternate;
}

@keyframes fireGlow {
  0% { box-shadow: 0 0 18px rgba(255,80,0,0.35), 0 0 40px rgba(255,40,0,0.15), 0 8px 30px rgba(0,0,0,0.25); }
  100% { box-shadow: 0 0 28px rgba(255,100,0,0.45), 0 0 55px rgba(255,50,0,0.22), 0 10px 36px rgba(0,0,0,0.3); }
}

/* ── Labels ── */
.bubbleLabel {
  font-weight: 850;
  font-size: 11px;
  line-height: 1.15;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
}

.bubbleMeta {
  font-size: 9px;
  color: #fff;
  opacity: 0.7;
  font-weight: 800;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
}

/* ── Canvas ── */
.bubbleCanvas {
  flex: 1;
  position: relative;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.035);
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
  box-shadow: var(--shadow);
  background-image: radial-gradient(circle at 50% 50%, rgba(20, 25, 40, 0.4), transparent);
}

.gridOverlay {
  position: absolute;
  inset: 0;
  background-image: linear-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
  background-size: 48px 48px;
  mask-image: radial-gradient(circle at 50% 45%, black 40%, transparent 75%);
  opacity: 0.45;
}

@keyframes bubblePulse {
  0%, 100% { filter: saturate(1.05) brightness(1); }
  50% { filter: saturate(1.2) brightness(1.06); }
}

code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
}

/* Shared */
.spacer {
  flex: 1;
}

.primaryBtn {
  background: linear-gradient(135deg, #64b5ff, #4ca3ff);
  border: none;
  border-radius: 14px;
  padding: 12px 14px;
  color: #000;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.2s ease;
}

.primaryBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(100, 181, 255, 0.3);
}

.secondaryBtn {
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  padding: 12px 14px;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
}

.btnFull {
  width: 100%;
}

.statusPill {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
}

.statusPill.done {
  background: rgba(100, 181, 255, 0.15);
  color: var(--primary);
}

.statusPill.open {
  background: rgba(255, 255, 255, 0.1);
  color: var(--muted);
}

.urgentPill {
  background: rgba(255, 107, 129, 0.15);
  color: var(--danger);
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
}

.summaryDetails {
  display: flex;
  align-items: center;
  gap: 12px;
}

.summaryDivider {
  width: 1px;
  height: 12px;
  background: rgba(255, 255, 255, 0.1);
}

.summaryItem {
  color: var(--muted);
}

.summaryItem b {
  color: #fff;
}

.panelTitleRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.segmented {
  display: flex;
  background: rgba(0, 0, 0, 0.2);
  padding: 3px;
  border-radius: 12px;
  gap: 2px;
}

.segBtn {
  padding: 6px 10px;
  border-radius: 10px;
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 11px;
  font-weight: 700;
  cursor: pointer;
}

.segBtn.active {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
}

.search {
  width: 100%;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 10px 12px;
  color: #fff;
  margin: 12px 0;
}

.taskGroup {
  margin-bottom: 20px;
}

.taskGroupHeader {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  padding: 0 4px;
}

.taskGroupTitle {
  font-size: 12px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--muted);
}

.taskScroll {
  display: flex;
  flex-direction: column;
}

.toastError {
  background: rgba(255, 107, 129, 0.1);
  border: 1px solid rgba(255, 107, 129, 0.2);
  color: var(--danger);
  padding: 12px;
  border-radius: 12px;
  margin-bottom: 16px;
  font-size: 13px;
}

@keyframes floatSlow {
  0%, 100% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -18px, 0); }
}

@keyframes drift {
  0%, 100% { transform: translate(-50%, -50%) translate3d(calc(var(--dx) * -1), calc(var(--dy) * 0.6), 0); }
  50% { transform: translate(-50%, -50%) translate3d(var(--dx), calc(var(--dy) * -0.7), 0); }
}

@keyframes pulse {
  0%, 100% { filter: saturate(1.05) brightness(1); }
  50% { filter: saturate(1.15) brightness(1.06); }
}

@media (max-width: 980px) {
  .landingHeadline { font-size: 44px; }
  .landingFeatureGrid { grid-template-columns: 1fr 1fr; }
  .landingHero { padding: 64px 20px 48px; }
  .landingStats { gap: 28px; }
  .authCard3 { padding: 28px 20px; }
  .grid2 { grid-template-columns: 1fr; }
  .split { grid-template-columns: 1fr; }
  .boardGrid3 { grid-template-columns: 1fr; }
  .bubbleCanvas { min-height: 520px; }
}

.card { padding: 2em; }
.read-the-docs { color: #888; }

/* ───────────────────────────────────────────────
   Profile Page
   ─────────────────────────────────────────────── */

.profileToast {
  padding: 12px 16px;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 14px;
  animation: toastSlide 0.3s ease;
}

@keyframes toastSlide {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

.profileToastError {
  background: rgba(255, 77, 109, 0.1);
  border: 1px solid rgba(255, 77, 109, 0.3);
  color: #ffd1da;
}

.profileToastSuccess {
  background: rgba(80, 255, 190, 0.08);
  border: 1px solid rgba(80, 255, 190, 0.25);
  color: #a0ffd8;
}

.profileSection {
  margin-bottom: 24px;
}

.profileHero {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 28px 32px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 24px;
  margin-bottom: 20px;
  box-shadow: 0 16px 46px rgba(0, 0, 0, 0.35);
}

.profileAvatarLg {
  width: 72px;
  height: 72px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(114, 200, 255, 0.25), rgba(170, 122, 255, 0.2));
  border: 2px solid rgba(114, 200, 255, 0.35);
  display: grid;
  place-items: center;
  font-weight: 900;
  font-size: 24px;
  color: #fff;
  letter-spacing: 0.06em;
  flex-shrink: 0;
  box-shadow: 0 8px 28px rgba(114, 200, 255, 0.12);
}

.profileHeroInfo {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.profileName {
  font-size: 24px;
  font-weight: 900;
  letter-spacing: -0.03em;
  color: #fff;
}

.profileEmail {
  font-size: 14px;
  color: var(--muted);
}

.profileColumns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.profileFormCard {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.25);
}

.profileFormTitle {
  font-size: 16px;
  font-weight: 850;
  letter-spacing: -0.01em;
  color: #fff;
}

.profileField {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.profileFieldLabel {
  font-size: 11px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--muted);
}

.profileInput {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 12px;
  padding: 11px 14px;
  color: #fff;
  font-family: inherit;
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
}

.profileInput:focus {
  border-color: rgba(114, 200, 255, 0.5);
  box-shadow: 0 0 0 4px rgba(114, 200, 255, 0.1);
  background: rgba(255, 255, 255, 0.07);
}

.profileFormActions {
  display: flex;
  gap: 10px;
  margin-top: 4px;
}

/* Profile color picker */
.profileColorDot {
  display: inline-block; width: 12px; height: 12px; border-radius: 999px;
  margin-right: 6px; vertical-align: middle; flex-shrink: 0;
}
.profileColorSection {
  margin-top: 8px; padding: 16px; border-radius: 14px;
  background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
}
.profileColorSectionHeader { margin-bottom: 12px; }
.profileColorCurrentRow {
  display: flex; align-items: center; gap: 12px; margin-bottom: 12px;
}
.profileColorCurrentSwatch {
  width: 48px; height: 48px; border-radius: 12px; flex-shrink: 0;
  border: 2px solid rgba(255,255,255,0.15);
  box-shadow: 0 4px 16px rgba(0,0,0,0.2);
}
.profileColorCurrentLabel { font-size: 12px; color: var(--muted); margin-bottom: 2px; }
.profileColorCurrentHex { font-size: 14px; font-weight: 700; font-family: monospace; color: var(--text); }
.profileColorDesc { font-size: 12px; line-height: 1.5; margin-bottom: 14px; }
.profileColorGridLabel {
  font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em;
  color: var(--muted); margin-bottom: 8px;
}
.profileColorGrid {
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 14px;
}
.profileColorSwatch {
  width: 28px; height: 28px; border-radius: 8px; border: 2px solid transparent;
  cursor: pointer; transition: all 0.12s;
}
.profileColorSwatch:hover { transform: scale(1.15); }
.profileColorSwatch.active { border-color: #fff; box-shadow: 0 0 0 2px rgba(255,255,255,0.3); transform: scale(1.1); }
.profileColorCustom {
  display: flex; align-items: center; gap: 8px;
}
.profileColorNative {
  width: 40px; height: 40px; border: none; border-radius: 10px; cursor: pointer;
  background: transparent; padding: 0;
}
.profileColorNative::-webkit-color-swatch-wrapper { padding: 0; }
.profileColorNative::-webkit-color-swatch { border: 1px solid rgba(255,255,255,0.15); border-radius: 10px; }
.profileColorHex { width: 110px !important; font-family: monospace; }

[data-theme="light"] .profileColorSection { background: rgba(0,0,0,0.02); border-color: var(--border); }
[data-theme="light"] .profileColorCurrentSwatch { border-color: var(--border); box-shadow: 0 4px 16px rgba(0,0,0,0.06); }
[data-theme="light"] .profileColorSwatch.active { border-color: var(--text); box-shadow: 0 0 0 2px rgba(0,0,0,0.15); }
[data-theme="light"] .profileColorNative::-webkit-color-swatch { border-color: var(--border); }

.profileBtnGhost {
  padding: 10px 16px;
  border-radius: 12px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: var(--muted);
  font-weight: 700;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.profileBtnGhost:hover {
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.25);
}

.profileTaskScroll {
  flex: 1;
  max-height: 280px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.profileTaskItem {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 14px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  transition: all 0.15s ease;
}

.profileTaskItem:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.12);
}

.profileTaskTitle {
  font-size: 13px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.9);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
  flex: 1;
}

.profileTaskChip {
  font-size: 10px;
  font-weight: 800;
  padding: 3px 8px;
  border-radius: 8px;
  background: rgba(100, 181, 255, 0.1);
  border: 1px solid rgba(100, 181, 255, 0.2);
  color: var(--primary);
  white-space: nowrap;
  flex-shrink: 0;
}

/* ───────────────────────────────────────────────
   Admin Console
   ─────────────────────────────────────────────── */

.adminSection {
  background: rgba(255, 255, 255, 0.025);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 16px 46px rgba(0, 0, 0, 0.35);
}

.adminHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 24px 28px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.adminTitle {
  font-size: 20px;
  font-weight: 900;
  letter-spacing: -0.03em;
  color: #fff;
}

.adminSubtitle {
  font-size: 13px;
  color: var(--muted);
  margin-top: 4px;
}

.adminRefreshBtn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: var(--muted);
  font-size: 12px;
  font-weight: 750;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.adminRefreshBtn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.2);
}

.adminRefreshBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.adminSpinner {
  width: 14px;
  height: 14px;
  border: 2px solid rgba(255, 255, 255, 0.15);
  border-top-color: var(--primary);
  border-radius: 999px;
  animation: adminSpin 0.8s linear infinite;
}

@keyframes adminSpin {
  to { transform: rotate(360deg); }
}

.adminAlert {
  margin: 0 28px 0;
  padding: 12px 16px;
  border-radius: 12px;
  background: rgba(255, 77, 109, 0.08);
  border: 1px solid rgba(255, 77, 109, 0.25);
  color: #ffc4cf;
  font-size: 13px;
  margin-top: 16px;
}

.adminAlertWarn {
  margin: 0 28px;
  padding: 12px 16px;
  border-radius: 12px;
  background: rgba(255, 190, 60, 0.08);
  border: 1px solid rgba(255, 190, 60, 0.25);
  color: #ffe0a0;
  font-size: 13px;
  margin-top: 12px;
}

.adminAlertWarn code {
  background: rgba(255, 255, 255, 0.1);
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 12px;
}

.adminTabs {
  display: flex;
  gap: 4px;
  padding: 16px 28px 0;
}

.adminTab {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  border-radius: 12px 12px 0 0;
  background: transparent;
  border: 1px solid transparent;
  border-bottom: none;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.adminTab:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.04);
}

.adminTab.active {
  color: #fff;
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

.adminTab.active::after {
  content: "";
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--primary);
  border-radius: 2px 2px 0 0;
}

.adminTabCount {
  font-size: 11px;
  font-weight: 900;
  padding: 2px 7px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.08);
  color: var(--muted);
  min-width: 14px;
  text-align: center;
}

.adminTab.active .adminTabCount {
  background: rgba(100, 181, 255, 0.15);
  color: var(--primary);
}

.adminList {
  padding: 16px 28px 24px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.adminCard {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.07);
  border-radius: 16px;
  transition: all 0.2s ease;
}

.adminCard:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.14);
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.adminCardSelf {
  border-color: rgba(100, 181, 255, 0.2);
  background: rgba(100, 181, 255, 0.04);
}

.adminCardHome {
  border-color: rgba(80, 255, 190, 0.15);
  background: rgba(80, 255, 190, 0.03);
}

.adminCardAvatar {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(114, 200, 255, 0.2), rgba(170, 122, 255, 0.15));
  border: 1px solid rgba(114, 200, 255, 0.25);
  display: grid;
  place-items: center;
  font-weight: 900;
  font-size: 14px;
  color: #fff;
  flex-shrink: 0;
}

.adminCardIcon {
  width: 40px;
  height: 40px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
  display: grid;
  place-items: center;
  font-size: 18px;
  color: var(--muted);
  flex-shrink: 0;
}

.adminCardHome .adminCardIcon {
  background: rgba(80, 255, 190, 0.08);
  border-color: rgba(80, 255, 190, 0.2);
  color: #a0ffd8;
}

.adminCardBody {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.adminCardPrimary {
  font-size: 14px;
  font-weight: 800;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.adminCardSecondary {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  font-size: 12px;
  color: var(--muted);
}

.adminDot {
  width: 3px;
  height: 3px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.25);
  flex-shrink: 0;
}

.adminBadge {
  font-size: 10px;
  font-weight: 900;
  padding: 2px 8px;
  border-radius: 999px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  flex-shrink: 0;
}

.adminBadgeYou {
  background: rgba(100, 181, 255, 0.15);
  border: 1px solid rgba(100, 181, 255, 0.3);
  color: var(--primary);
}

.adminBadgeSystem {
  background: rgba(80, 255, 190, 0.1);
  border: 1px solid rgba(80, 255, 190, 0.25);
  color: #a0ffd8;
}

.adminCodeChip {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.6);
  letter-spacing: 0.04em;
}

.adminDeleteBtn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border-radius: 12px;
  background: rgba(255, 77, 109, 0.06);
  border: 1px solid rgba(255, 77, 109, 0.2);
  color: #ff8fa0;
  font-size: 12px;
  font-weight: 750;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
}

.adminDeleteBtn:hover:not(:disabled) {
  background: rgba(255, 77, 109, 0.15);
  border-color: rgba(255, 77, 109, 0.4);
  color: #ffb3c0;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 77, 109, 0.15);
}

.adminDeleteBtn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.noticeBox {
  padding: 10px 14px;
  border-radius: 12px;
  background: rgba(80, 255, 190, 0.08);
  border: 1px solid rgba(80, 255, 190, 0.2);
  color: #a0ffd8;
  font-size: 13px;
}

/* Admin workspace member management */
.adminWsMembers {
  margin: 0 28px 8px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-top: none;
  border-radius: 0 0 16px 16px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  animation: toastSlide 0.2s ease;
}

.adminWsMemberRow {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.adminWsMemberRow:hover {
  background: rgba(255, 255, 255, 0.06);
}

.adminWsAddRow {
  display: flex;
  align-items: center;
  gap: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  margin-top: 4px;
}

.adminWsAddSelect {
  flex: 1;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 10px;
  padding: 8px 12px;
  color: #fff;
  font-size: 12px;
  font-family: inherit;
}

/* Responsive – Profile */
@media (max-width: 720px) {
  .profileColumns {
    grid-template-columns: 1fr;
  }
  .profileHero {
    flex-direction: column;
    text-align: center;
    padding: 24px 20px;
  }
  .adminHeader {
    flex-direction: column;
    align-items: flex-start;
  }
  .adminCard {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  .adminDeleteBtn {
    align-self: flex-end;
  }
}

/* ───────────────────────────────────────────────
   Home / Workspaces Page
   ─────────────────────────────────────────────── */

.homeHero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  padding: 32px 36px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 24px;
  margin-bottom: 20px;
  box-shadow: 0 16px 46px rgba(0, 0, 0, 0.35);
}

.homeHeroText {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.homeGreeting {
  font-size: 28px;
  font-weight: 900;
  letter-spacing: -0.04em;
  color: #fff;
}

.homeSubtext {
  font-size: 14px;
  color: var(--muted);
}

.homeCreateBtn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(100, 181, 255, 0.9), rgba(76, 163, 255, 0.9));
  border: 1px solid rgba(100, 181, 255, 0.5);
  color: #000;
  font-weight: 850;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  box-shadow: 0 8px 24px rgba(100, 181, 255, 0.18);
}

.homeCreateBtn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(100, 181, 255, 0.28);
}

.homeCreateBar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 16px 20px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(100, 181, 255, 0.2);
  border-radius: 18px;
  margin-bottom: 20px;
  animation: toastSlide 0.25s ease;
}

.homeCreateInput {
  flex: 1;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 12px;
  padding: 11px 14px;
  color: #fff;
  font-family: inherit;
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
}

.homeCreateInput:focus {
  border-color: rgba(114, 200, 255, 0.5);
  box-shadow: 0 0 0 4px rgba(114, 200, 255, 0.1);
}

.homeCreateCancel {
  padding: 10px 16px;
  border-radius: 12px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: var(--muted);
  font-weight: 700;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.homeCreateCancel:hover {
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
}

/* Quick Actions */
.homeQuickActions {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.homeQA {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.8);
  font-size: 13px;
  font-weight: 750;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.homeQA:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.18);
  color: #fff;
  transform: translateY(-1px);
}

.homeQAIcon {
  font-size: 14px;
  opacity: 0.6;
}

/* Due Soon / Overdue */
.homeDueSoon {
  background: rgba(255, 90, 40, 0.04);
  border: 1px solid rgba(255, 90, 40, 0.15);
  border-radius: 20px;
  padding: 16px 20px;
  margin-bottom: 20px;
  animation: toastSlide 0.3s ease;
}

.homeDueSoonHeader {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.homeDueSoonIcon {
  font-size: 20px;
  filter: saturate(0.8);
}

.homeDueSoonTitle {
  font-size: 15px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #ffb49a;
}

.homeDueSoonSub {
  font-size: 12px;
  color: var(--muted);
  margin-top: 1px;
}

.homeDueSoonList {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.homeDueCard {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 10px 14px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  width: 100%;
}

.homeDueCard:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.15);
}

.homeDueTitle {
  font-size: 13px;
  font-weight: 800;
  color: #fff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.homeDueMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: var(--muted);
}

.homeDueBadge {
  font-size: 10px;
  font-weight: 900;
  padding: 2px 8px;
  border-radius: 999px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.homeUrgOverdue {
  background: rgba(255, 60, 60, 0.15);
  border: 1px solid rgba(255, 60, 60, 0.3);
  color: #ff8888;
}

.homeUrgToday {
  background: rgba(255, 180, 40, 0.12);
  border: 1px solid rgba(255, 180, 40, 0.3);
  color: #ffd080;
}

.homeUrgSoon {
  background: rgba(100, 181, 255, 0.1);
  border: 1px solid rgba(100, 181, 255, 0.25);
  color: #a0d4ff;
}

.homeUrgAsap {
  background: rgba(255, 90, 40, 0.12);
  border: 1px solid rgba(255, 90, 40, 0.3);
  color: #ff9e7a;
}

/* ── Shopify Dashboard ── */

.shopifyDash {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  margin-bottom: 20px;
  overflow: hidden;
}
.shopifyDashHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  gap: 12px;
  flex-wrap: wrap;
}
.shopifyDashHeaderLeft {
  display: flex;
  align-items: center;
  gap: 10px;
}
.shopifyCollapseBtn {
  background: none; border: none; color: rgba(255,255,255,.5);
  font-size: 12px; cursor: pointer; padding: 4px 6px; border-radius: 6px;
  transition: background .15s;
}
.shopifyCollapseBtn:hover { background: rgba(255,255,255,.08); }
.shopifyDashIcon {
  font-size: 22px;
}
.shopifyDashTitle {
  font-weight: 700;
  font-size: 15px;
  color: #fff;
}
.shopifyDashSub {
  font-size: 11px;
  color: rgba(255,255,255,.4);
}
/* Header controls wrapper */
.shopifyHeaderControls {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
/* Store picker pills */
.shopifyStorePicker {
  display: flex;
  gap: 4px;
}
.shopifyStorePill {
  padding: 5px 14px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  border: 1px solid rgba(255,255,255,.12);
  background: transparent;
  color: rgba(255,255,255,.5);
  cursor: pointer;
  transition: all .15s;
  font-family: inherit;
}
.shopifyStorePill:hover {
  background: rgba(255,255,255,.06);
  color: #fff;
}
.shopifyStorePill.active {
  background: rgba(52,211,153,.12);
  color: #34d399;
  border-color: rgba(52,211,153,.35);
}
.shopifyStorePill:disabled { opacity: .5; cursor: not-allowed; }

/* Divider between store picker and period pills */
.shopifyStorePicker + .shopifyPeriodPills::before {
  content: "";
  display: block;
  width: 1px;
  height: 20px;
  background: rgba(255,255,255,.1);
  margin-right: 6px;
}

.shopifyPeriodPills {
  display: flex; gap: 4px;
}
.shopifyPeriodPill {
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  border: 1px solid rgba(255,255,255,.1);
  background: transparent;
  color: rgba(255,255,255,.6);
  cursor: pointer;
  transition: all .15s;
}
.shopifyPeriodPill:hover {
  background: rgba(255,255,255,.06);
  color: #fff;
}
.shopifyPeriodPill.active {
  background: rgba(100,181,255,.15);
  color: #64b5ff;
  border-color: rgba(100,181,255,.3);
}
.shopifyPeriodPill:disabled { opacity: .5; cursor: not-allowed; }

/* Stat grid */
.shopifyStatGrid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  padding: 0 20px 16px;
}
.shopifyStat {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 12px;
  padding: 14px 16px;
}
.shopifyStatLabel {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .5px;
  color: rgba(255,255,255,.4);
  margin-bottom: 6px;
}
.shopifyStatValue {
  font-size: 22px;
  font-weight: 700;
  color: #fff;
  line-height: 1.2;
}
.shopifyStatSub {
  font-size: 11px;
  color: rgba(255,255,255,.35);
  margin-top: 4px;
}

/* Charts */
.shopifyCharts {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  padding: 0 20px 20px;
}
.shopifyChartBox {
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 12px;
  padding: 14px 16px;
}
.shopifyChartLabel {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .5px;
  color: rgba(255,255,255,.4);
  margin-bottom: 10px;
}

/* Full chart with axes */
.shopifyChart {
  display: flex;
  gap: 0;
  height: 120px;
}

/* Y-axis */
.shopifyChartYAxis {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: flex-end;
  padding-right: 8px;
  padding-bottom: 20px; /* align with chart bottom above x-axis */
  min-width: 38px;
  flex-shrink: 0;
}
.shopifyChartYTick {
  font-size: 9px;
  font-weight: 600;
  color: rgba(255,255,255,.3);
  line-height: 1;
  white-space: nowrap;
}

/* Chart main area */
.shopifyChartMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  position: relative;
}

/* Grid lines */
.shopifyChartGrid {
  position: absolute;
  inset: 0;
  bottom: 20px; /* leave room for x-axis */
}
.shopifyChartGridLine {
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background: rgba(255,255,255,.06);
}

/* Bars container */
.shopifyChartBars {
  flex: 1;
  display: flex;
  align-items: flex-end;
  gap: 2px;
  position: relative;
  z-index: 1;
}
.shopifyChartBarCol {
  flex: 1;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  height: 100%;
  min-width: 0;
}
.shopifyChartBar {
  width: 100%;
  max-width: 24px;
  min-width: 2px;
  background: linear-gradient(to top, rgba(100,181,255,.65), rgba(100,181,255,.2));
  border-radius: 3px 3px 0 0;
  transition: background .15s;
  cursor: default;
}
.shopifyChartBar:hover {
  background: linear-gradient(to top, rgba(100,181,255,1), rgba(100,181,255,.5));
}

/* X-axis */
.shopifyChartXAxis {
  display: flex;
  height: 20px;
  align-items: center;
  position: relative;
  z-index: 1;
}
.shopifyChartXTick {
  flex: 1;
  text-align: center;
  font-size: 9px;
  font-weight: 600;
  color: rgba(255,255,255,.3);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}
.shopifyBar:hover {
  background: linear-gradient(to top, rgba(100,181,255,.9), rgba(100,181,255,.5));
}

/* Error / Loading */
.shopifyError {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 16px 20px 20px;
  color: rgba(255,255,255,.6);
}
.shopifyErrorIcon {
  font-size: 20px;
  color: #ffa64d;
}
.shopifyErrorTitle {
  font-size: 14px;
  font-weight: 600;
  color: #ffa64d;
  margin-bottom: 4px;
}
.shopifyErrorBody {
  font-size: 12px;
  line-height: 1.5;
  color: rgba(255,255,255,.45);
}
.shopifyLoading {
  padding: 32px 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  color: rgba(255,255,255,.4);
  font-size: 13px;
}

/* Spinner */
@keyframes shopifySpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.shopifySpinner {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  animation: shopifySpin 0.9s linear infinite;
  color: #64b5ff;
}
.shopifySpinnerSvg {
  display: block;
}

/* Body wrapper for overlay during refresh */
.shopifyBody {
  position: relative;
}
.shopifyBodyLoading {
  opacity: 0.45;
  pointer-events: none;
  transition: opacity 0.2s ease;
}
.shopifyRefreshOverlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  pointer-events: none;
}
.shopifyRefreshOverlay .shopifySpinner {
  width: 36px;
  height: 36px;
  color: #64b5ff;
}
.shopifyRefreshOverlay .shopifySpinnerSvg {
  width: 36px;
  height: 36px;
}

/* Smaller stat row */
.shopifyStatGridSmall {
  grid-template-columns: repeat(3, 1fr);
}
.shopifyStatValueSm {
  font-size: 18px;
}

/* Top Products */
.shopifyTopProducts {
  padding: 0 20px 16px;
}
.shopifyTopLabel {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .5px;
  color: rgba(255,255,255,.4);
  margin-bottom: 8px;
}
.shopifyTopList {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.shopifyTopRow {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 8px;
  font-size: 13px;
}
.shopifyTopRank {
  color: rgba(255,255,255,.3);
  font-weight: 700;
  font-size: 11px;
  min-width: 22px;
}
.shopifyTopName {
  flex: 1;
  color: #fff;
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.shopifyTopQty {
  color: rgba(255,255,255,.45);
  font-size: 12px;
  white-space: nowrap;
}
.shopifyTopRev {
  color: rgba(100,181,255,.9);
  font-weight: 600;
  font-size: 13px;
  white-space: nowrap;
}

/* ── Light mode ── */
[data-theme="light"] .shopifyDash {
  background: #fff;
  border-color: #e2e6ed;
  box-shadow: 0 1px 4px rgba(0,0,0,.06);
}
[data-theme="light"] .shopifyCollapseBtn { color: #7b8290; }
[data-theme="light"] .shopifyCollapseBtn:hover { background: #f0f2f5; }
[data-theme="light"] .shopifyDashTitle { color: #23272f; }
[data-theme="light"] .shopifyDashSub { color: #8b92a0; }
[data-theme="light"] .shopifyStorePill {
  border-color: #dde0e6; color: #6b7280;
}
[data-theme="light"] .shopifyStorePill:hover {
  background: #f5f6f8; color: #23272f;
}
[data-theme="light"] .shopifyStorePill.active {
  background: rgba(16,185,129,.08); color: #059669; border-color: rgba(16,185,129,.3);
}
[data-theme="light"] .shopifyStorePicker + .shopifyPeriodPills::before {
  background: #dde0e6;
}
[data-theme="light"] .shopifyPeriodPill {
  border-color: #dde0e6; color: #6b7280;
}
[data-theme="light"] .shopifyPeriodPill:hover {
  background: #f5f6f8; color: #23272f;
}
[data-theme="light"] .shopifyPeriodPill.active {
  background: rgba(59,130,246,.1); color: #2563eb; border-color: rgba(59,130,246,.3);
}
[data-theme="light"] .shopifyStat {
  background: #f8f9fb; border-color: #e8eaef;
}
[data-theme="light"] .shopifyStatLabel { color: #7b8290; }
[data-theme="light"] .shopifyStatValue { color: #23272f; }
[data-theme="light"] .shopifyStatSub { color: #9ca3af; }
[data-theme="light"] .shopifyChartBox {
  background: #f8f9fb; border-color: #e8eaef;
}
[data-theme="light"] .shopifyChartLabel { color: #7b8290; }
[data-theme="light"] .shopifyChartYTick { color: #9ca3af; }
[data-theme="light"] .shopifyChartXTick { color: #9ca3af; }
[data-theme="light"] .shopifyChartGridLine { background: rgba(0,0,0,.06); }
[data-theme="light"] .shopifyChartBar {
  background: linear-gradient(to top, rgba(59,130,246,.55), rgba(59,130,246,.2));
}
[data-theme="light"] .shopifyChartBar:hover {
  background: linear-gradient(to top, rgba(59,130,246,.8), rgba(59,130,246,.4));
}
[data-theme="light"] .shopifyError { color: #555; }
[data-theme="light"] .shopifyErrorIcon { color: #e67e22; }
[data-theme="light"] .shopifyErrorTitle { color: #e67e22; }
[data-theme="light"] .shopifyErrorBody { color: #888; }
[data-theme="light"] .shopifyLoading { color: #888; }
[data-theme="light"] .shopifySpinner { color: #2563eb; }
[data-theme="light"] .shopifyTopLabel { color: #7b8290; }
[data-theme="light"] .shopifyTopRow {
  background: #f8f9fb; border-color: #e8eaef;
}
[data-theme="light"] .shopifyTopRank { color: #b0b5bf; }
[data-theme="light"] .shopifyTopName { color: #23272f; }
[data-theme="light"] .shopifyTopQty { color: #8b92a0; }
[data-theme="light"] .shopifyTopRev { color: #2563eb; }

/* Responsive: stack stat grid on mobile */
@media (max-width: 700px) {
  .shopifyStatGrid { grid-template-columns: repeat(2, 1fr); }
  .shopifyStatGridSmall { grid-template-columns: repeat(2, 1fr); }
  .shopifyCharts { grid-template-columns: 1fr; }
  .shopifyDashHeader { flex-direction: column; align-items: flex-start; }
}

.homeGrid {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 20px;
  align-items: start;
}

.homeRightCol {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.homeSection {
  background: rgba(255, 255, 255, 0.025);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 16px 46px rgba(0, 0, 0, 0.3);
}

.homeSectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.homeSectionTitle {
  font-size: 17px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #fff;
}

.homeSectionSub {
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
}

.homeSectionCount {
  font-size: 13px;
  font-weight: 900;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.06);
  color: var(--muted);
  min-width: 16px;
  text-align: center;
}

/* Workspace cards */
.homeWsGrid {
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.homeWsCard {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  width: 100%;
}

.homeWsCard:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.16);
  transform: translateX(4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.homeWsIcon {
  width: 42px;
  height: 42px;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(114, 200, 255, 0.15), rgba(170, 122, 255, 0.1));
  border: 1px solid rgba(114, 200, 255, 0.2);
  display: grid;
  place-items: center;
  font-size: 18px;
  font-weight: 900;
  color: var(--primary);
  flex-shrink: 0;
}

.homeWsBody {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.homeWsName {
  font-size: 15px;
  font-weight: 800;
  color: #fff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.homeWsMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--muted);
}

.homeWsDot {
  width: 3px;
  height: 3px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.2);
  flex-shrink: 0;
}

.homeWsArrow {
  font-size: 22px;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.2);
  flex-shrink: 0;
  transition: all 0.2s ease;
}

.homeWsCard:hover .homeWsArrow {
  color: var(--primary);
  transform: translateX(3px);
}

/* Workspace icon wrapper for unread dot */
.homeWsIconWrap {
  position: relative;
  flex-shrink: 0;
}

.homeWsUnread {
  position: absolute;
  top: -2px;
  right: -2px;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: linear-gradient(135deg, #64b5ff, #4ca3ff);
  border: 2px solid rgba(10, 12, 18, 0.9);
  animation: pulse 2s ease infinite;
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(100, 181, 255, 0.4); }
  50% { box-shadow: 0 0 0 4px rgba(100, 181, 255, 0); }
}

.homeWsChatBadge {
  font-size: 9px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 1px 6px;
  border-radius: 999px;
  background: rgba(100, 181, 255, 0.15);
  border: 1px solid rgba(100, 181, 255, 0.3);
  color: var(--primary);
  margin-left: 6px;
  vertical-align: middle;
}

/* Progress bar on workspace card */
.homeWsProgress {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 4px;
}

.homeWsProgressTrack {
  flex: 1;
  height: 4px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.06);
  overflow: hidden;
}

.homeWsProgressFill {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(100, 181, 255, 0.7), rgba(80, 255, 190, 0.6));
  transition: width 0.5s ease;
  min-width: 2px;
}

.homeWsProgressLabel {
  font-size: 10px;
  font-weight: 900;
  color: var(--muted);
  min-width: 28px;
  text-align: right;
}

/* Overdue task badge */
.homeTaskBadgeOverdue {
  background: rgba(255, 60, 60, 0.12);
  border: 1px solid rgba(255, 60, 60, 0.3);
  color: #ff8888;
}

/* Activity feed */
.homeActivityList {
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  max-height: 420px;
  overflow-y: auto;
}

.homeActivityRow {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  background: transparent;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: left;
  width: 100%;
}

.homeActivityRow:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.06);
}

.homeActivityIcon {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-size: 12px;
  background: rgba(100, 181, 255, 0.1);
  border: 1px solid rgba(100, 181, 255, 0.2);
  color: var(--primary);
  flex-shrink: 0;
  font-weight: 900;
}

.homeActivityDone {
  background: rgba(80, 255, 190, 0.08);
  border-color: rgba(80, 255, 190, 0.2);
  color: #a0ffd8;
}

.homeActivityBody {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.homeActivityText {
  font-size: 13px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.85);
  line-height: 1.3;
}

.homeActivityMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: var(--muted);
}

/* Task cards */
.homeTaskList {
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 560px;
  overflow-y: auto;
}

.homeTaskCard {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 14px 16px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  width: 100%;
}

.homeTaskCard:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.16);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.homeTaskDone {
  opacity: 0.5;
}

.homeTaskTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.homeTaskTitle {
  font-size: 14px;
  font-weight: 800;
  color: #fff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
  min-width: 0;
}

.homeTaskDone .homeTaskTitle {
  text-decoration: line-through;
  color: var(--muted);
}

.homeTaskMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  font-size: 12px;
  color: var(--muted);
}

.homeTaskCompany {
  color: var(--primary);
  font-weight: 800;
  text-transform: uppercase;
  font-size: 10px;
}

.homeTaskBadge {
  font-size: 10px;
  font-weight: 900;
  padding: 3px 8px;
  border-radius: 999px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  flex-shrink: 0;
}

.homeTaskBadgeAsap {
  background: rgba(255, 90, 40, 0.12);
  border: 1px solid rgba(255, 90, 40, 0.3);
  color: #ff9e7a;
}

.homeTaskBadgeDone {
  background: rgba(80, 255, 190, 0.08);
  border: 1px solid rgba(80, 255, 190, 0.2);
  color: #a0ffd8;
}

.homeTaskEmpty {
  text-align: center;
  padding: 40px 20px;
  color: var(--muted);
  font-size: 14px;
}

/* Responsive – Home */
@media (max-width: 840px) {
  .homeGrid {
    grid-template-columns: 1fr;
  }
  .homeRightCol {
    gap: 16px;
  }
  .homeHero {
    flex-direction: column;
    align-items: flex-start;
    padding: 24px 20px;
  }
  .homeCreateBtn {
    align-self: stretch;
    justify-content: center;
  }
  .homeQuickActions {
    flex-wrap: wrap;
    gap: 6px;
  }
  .homeQA {
    font-size: 12px;
    padding: 8px 12px;
  }
}

/* ───────────────────────────────────────────────
   Board Page – Redesigned
   ─────────────────────────────────────────────── */

.bpScreen {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 54px);
  overflow: hidden;
}

/* Header */
.bpHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 12px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.bpHeaderLeft {
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.bpWsNameWrap {
  position: relative; display: flex; align-items: center; gap: 6px;
}
.bpWsName {
  font-size: 20px;
  font-weight: 900;
  letter-spacing: -0.03em;
  color: #fff;
}
.bpWsCaret {
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
  border-radius: 6px; padding: 2px 6px; font-size: 10px; color: var(--muted);
  cursor: pointer; transition: all 0.15s; line-height: 1;
}
.bpWsCaret:hover { background: rgba(255,255,255,0.1); color: var(--text); }
.bpWsDropdown {
  position: absolute; top: 100%; left: 0; margin-top: 6px; z-index: 50;
  min-width: 200px; max-height: 280px; overflow-y: auto;
  background: rgba(20,24,36,0.98); backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.1); border-radius: 12px;
  padding: 6px; box-shadow: 0 12px 40px rgba(0,0,0,0.5);
}
.bpWsDropItem {
  display: block; width: 100%; text-align: left;
  padding: 10px 14px; border-radius: 8px; border: none; background: transparent;
  color: rgba(255,255,255,0.8); font-size: 14px; font-weight: 600;
  cursor: pointer; transition: background 0.1s;
}
.bpWsDropItem:hover { background: rgba(255,255,255,0.08); color: #fff; }

[data-theme="light"] .bpWsCaret { background: rgba(0,0,0,0.04); border-color: var(--border); color: var(--muted); }
[data-theme="light"] .bpWsCaret:hover { background: rgba(0,0,0,0.08); color: var(--text); }
[data-theme="light"] .bpWsDropdown { background: rgba(255,255,255,0.98); border-color: var(--border); box-shadow: 0 12px 40px rgba(0,0,0,0.12); }
[data-theme="light"] .bpWsDropItem { color: var(--text); }
[data-theme="light"] .bpWsDropItem:hover { background: rgba(0,0,0,0.04); }

.bpStats {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--muted);
}

.bpStats b {
  color: #fff;
}

.bpStatDot {
  width: 3px;
  height: 3px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.2);
  flex-shrink: 0;
}

.bpHeaderRight {
  display: flex;
  align-items: center;
  gap: 8px;
}

.bpMembers {
  display: flex;
  gap: 3px;
}

.bpMemberDot {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 850;
  display: grid;
  place-items: center;
  background: transparent;
  border: 2.5px solid var(--user-color, rgba(255, 255, 255, 0.2));
  color: var(--text);
  transition: transform 0.15s, box-shadow 0.15s;
  cursor: pointer;
}
.bpMemberDot:hover {
  transform: scale(1.15);
  box-shadow: 0 0 8px rgba(100,181,255,0.35);
}

.bpMemberMore {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  font-size: 9px;
  font-weight: 900;
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--muted);
}

/* Filters */
.bpFilters {
  padding: 8px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.bpFilterRow {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

.bpViewTabs {
  display: flex;
  gap: 2px;
  padding: 3px;
  border-radius: 12px;
  background: rgba(0, 0, 0, 0.3);
}

.bpViewTab {
  padding: 6px 12px;
  border-radius: 10px;
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 11px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.2s ease;
}

.bpViewTab:hover { color: #fff; }

.bpViewTab.active {
  background: rgba(255, 255, 255, 0.12);
  color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.bpFilterSep {
  width: 1px;
  height: 20px;
  background: rgba(255, 255, 255, 0.08);
  flex-shrink: 0;
}

.bpFilterGroup {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.bpFilterLabel {
  font-size: 9px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(255, 255, 255, 0.3);
  padding-left: 2px;
}

.bpChipGroup {
  display: flex;
  gap: 4px;
}

.bpChip {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 750;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s ease;
  white-space: nowrap;
}

.bpChip:hover {
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.2);
}

.bpChip.active {
  background: rgba(100, 181, 255, 0.18);
  border-color: rgba(100, 181, 255, 0.4);
  color: #fff;
}

.bpChip.danger.active {
  background: rgba(255, 90, 40, 0.2);
  border-color: rgba(255, 90, 40, 0.4);
}

.bpChipCo.active {
  background: rgba(114, 200, 255, 0.12);
  border-color: rgba(114, 200, 255, 0.3);
  color: var(--primary);
}

.bpChipReset {
  border-color: rgba(255, 77, 109, 0.25);
  color: #ff8fa0;
}

.bpChipReset:hover {
  background: rgba(255, 77, 109, 0.1);
  border-color: rgba(255, 77, 109, 0.4);
}

.bpRefresh {
  width: 30px;
  height: 30px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: var(--muted);
  font-size: 16px;
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.bpRefresh:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
}

/* Main grid */
.bpGrid {
  flex: 1;
  display: flex;
  gap: 0;
  min-height: 0;
  overflow: hidden;
}

.bpCanvas {
  flex: 1;
  min-height: 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.bpCanvas > .bubbleCanvas,
.bpCanvas > .listViewCanvas,
.bpCanvas > .peopleViewCanvas,
.bpCanvas > .calendarCanvas,
.bpCanvas > .kanbanCanvas {
  flex: 1;
  border-radius: 0;
  border: none;
  border-right: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: none;
}

/* Sidebar */
.bpSidebar {
  display: flex;
  flex-direction: column;
  background: rgba(10, 12, 18, 0.5);
  backdrop-filter: blur(20px);
  border-left: 1px solid rgba(255, 255, 255, 0.06);
  min-height: 0;
  overflow: hidden;
}

.bpSidebarTabs {
  display: flex;
  gap: 0;
  padding: 8px 8px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.bpSideTab {
  flex: 1;
  padding: 10px 8px;
  border: none;
  border-bottom: 2px solid transparent;
  background: transparent;
  color: var(--muted);
  font-size: 12px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.2s ease;
}

.bpSideTab:hover:not(.disabled) {
  color: #fff;
}

.bpSideTab.active {
  color: #fff;
  border-bottom-color: var(--primary);
}

.bpSideTab.disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.bpSideBody {
  flex: 1;
  overflow-y: auto;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.bpSideControls {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.bpSearch {
  width: 100%;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  padding: 8px 12px;
  color: #fff;
  font-size: 13px;
  font-family: inherit;
  outline: none;
  box-sizing: border-box;
}

.bpSearch:focus {
  border-color: rgba(114, 200, 255, 0.4);
  box-shadow: 0 0 0 3px rgba(114, 200, 255, 0.08);
}

.bpTaskSection {
  display: flex;
  flex-direction: column;
}

.bpTaskSectionHead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 4px;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
}

.bpTaskSectionCount {
  font-size: 10px;
  font-weight: 900;
  padding: 2px 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.06);
}

.bpTaskScroll {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.bpTaskRow {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 10px 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: left;
  width: 100%;
}

.bpTaskRow:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.12);
}

.bpTaskRow.active {
  background: rgba(100, 181, 255, 0.08);
  border-color: rgba(100, 181, 255, 0.3);
}

.bpTaskRow.done {
  opacity: 0.45;
}

.bpTaskRowTitle {
  font-size: 13px;
  font-weight: 750;
  color: #fff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.bpTaskRow.done .bpTaskRowTitle {
  text-decoration: line-through;
  color: var(--muted);
}

.bpTaskRowMeta {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}

.bpTaskChip {
  font-size: 10px;
  font-weight: 750;
  padding: 2px 6px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: var(--muted);
}

.bpTaskChip.co {
  color: var(--primary);
  border-color: rgba(100, 181, 255, 0.2);
  background: rgba(100, 181, 255, 0.06);
  text-transform: uppercase;
  font-weight: 850;
}

/* Detail card */
.bpDetailCard {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bpDetailTop {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.bpDetailTitle {
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #fff;
}

.bpDetailMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--muted);
  flex-wrap: wrap;
}

/* Detail tag chips */
.bpDetailChips {
  display: flex; flex-wrap: wrap; gap: 6px; margin: 8px 0 10px;
}
.bpDetailChip {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 5px 10px; border-radius: 8px; font-size: 12px; font-weight: 600;
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
  color: rgba(255,255,255,0.8); white-space: nowrap;
}
.bpDetailChipIcon { font-size: 13px; opacity: 0.7; }
.bpDetailChipDue { border-color: rgba(100,181,255,0.25); color: var(--primary); }
.bpDetailChipCompany { border-color: rgba(255,179,133,0.25); color: #ffb385; }
.bpDetailChipPerson { border-left-width: 3px; }
.bpDetailChipStatus { font-weight: 700; font-size: 11px; text-transform: uppercase; letter-spacing: 0.04em; }
.bpDetailChipStatus.done { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.25); color: #22c55e; }
.bpDetailChipStatus.in_progress { background: rgba(234,179,8,0.1); border-color: rgba(234,179,8,0.25); color: #eab308; }
.bpDetailChipStatus.open { background: rgba(100,181,255,0.08); border-color: rgba(100,181,255,0.2); color: #64b5ff; }

[data-theme="light"] .bpDetailChip { background: rgba(0,0,0,0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .bpDetailChipDue { border-color: rgba(37,99,235,0.2); color: var(--primary); }
[data-theme="light"] .bpDetailChipCompany { border-color: rgba(234,88,12,0.2); color: #ea580c; }
[data-theme="light"] .bpDetailChipStatus.done { background: rgba(34,197,94,0.06); border-color: rgba(34,197,94,0.2); color: #16a34a; }
[data-theme="light"] .bpDetailChipStatus.in_progress { background: rgba(234,179,8,0.06); border-color: rgba(234,179,8,0.2); color: #a16207; }
[data-theme="light"] .bpDetailChipStatus.open { background: rgba(37,99,235,0.06); border-color: rgba(37,99,235,0.15); color: var(--primary); }

.bpDetailDesc {
  font-size: 14px;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.75);
  background: rgba(255, 255, 255, 0.03);
  padding: 12px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.bpEditForm {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.bpEditActions {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.statusBadgeRow {
  display: flex;
  gap: 8px;
  align-items: center;
}

.emptyCenter {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 8px;
}

.emptyTitle {
  font-size: 16px;
  font-weight: 800;
  color: var(--muted);
}

/* ───────────────────────────────────────────────
   Chat Page
   ─────────────────────────────────────────────── */

.chatScreen {
  display: flex;
  height: calc(100vh - 54px);
  overflow: hidden;
}

.chatSidebar {
  width: 220px;
  flex-shrink: 0;
  border-right: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(5, 7, 12, 0.5);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.chatSidebarTitle {
  padding: 16px 16px 10px;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--muted);
}

.chatWsList {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 0 8px;
}

.chatWsBtn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 10px;
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  text-align: left;
  transition: all 0.15s ease;
  width: 100%;
}

.chatWsBtn:hover {
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
}

.chatWsBtn.active {
  background: rgba(100, 181, 255, 0.12);
  color: #fff;
}

.chatWsHash {
  color: var(--muted);
  font-weight: 900;
  font-size: 15px;
  opacity: 0.5;
}

.chatMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.chatHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 14px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.chatHeaderName {
  font-size: 17px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #fff;
}

.chatMessages {
  flex: 1;
  overflow-y: auto;
  overflow-anchor: auto;
  padding: 16px 24px 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.chatEmpty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: var(--muted);
  font-size: 14px;
  gap: 4px;
}

.chatDayDivider {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 16px 0 10px;
}

.chatDayDivider::before,
.chatDayDivider::after {
  content: "";
  flex: 1;
  height: 1px;
  background: rgba(255, 255, 255, 0.06);
}

.chatDayLabel {
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
  white-space: nowrap;
}

.chatBubbleRow {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  margin-bottom: 4px;
}

.chatBubbleMe {
  flex-direction: row-reverse;
}

.chatAvatar {
  width: 30px;
  height: 30px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(114, 200, 255, 0.2), rgba(170, 122, 255, 0.15));
  border: 1px solid rgba(114, 200, 255, 0.25);
  display: grid;
  place-items: center;
  font-weight: 900;
  font-size: 11px;
  color: #fff;
  flex-shrink: 0;
}

.chatBubble {
  max-width: 520px;
  padding: 10px 14px;
  border-radius: 16px 16px 16px 4px;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.chatBubbleSelf {
  border-radius: 16px 16px 4px 16px;
  background: rgba(100, 181, 255, 0.12);
  border-color: rgba(100, 181, 255, 0.2);
}

.chatBubbleName {
  font-size: 11px;
  font-weight: 850;
  color: var(--primary);
  margin-bottom: 2px;
}

.chatBubbleBody {
  font-size: 14px;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.9);
  white-space: pre-wrap;
  word-break: break-word;
}

.chatBubbleTime {
  font-size: 10px;
  color: var(--muted);
  margin-top: 4px;
  opacity: 0.7;
}

.chatComposer {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.chatInput {
  flex: 1;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 14px;
  padding: 12px 16px;
  color: #fff;
  font-family: inherit;
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
}

.chatInput:focus {
  border-color: rgba(114, 200, 255, 0.4);
  box-shadow: 0 0 0 4px rgba(114, 200, 255, 0.08);
}

.chatSendBtn {
  padding: 12px 20px;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(100, 181, 255, 0.9), rgba(76, 163, 255, 0.9));
  border: none;
  color: #000;
  font-weight: 850;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.chatSendBtn:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(100, 181, 255, 0.25);
}

.chatSendBtn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ── Chat attachments ── */
.chatAttachBtn {
  width: 38px; height: 38px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.05); color: rgba(255,255,255,0.6); font-size: 18px;
  cursor: pointer; display: grid; place-items: center; flex-shrink: 0; transition: all 0.15s;
}
.chatAttachBtn:hover:not(:disabled) { background: rgba(255,255,255,0.1); color: var(--text); border-color: rgba(255,255,255,0.18); }
.chatAttachBtn:disabled { opacity: 0.35; cursor: not-allowed; }

.chatPendingFile {
  display: flex; align-items: center; gap: 8px; padding: 8px 20px;
  border-top: 1px solid rgba(255,255,255,0.06); background: rgba(100,181,255,0.06);
  font-size: 13px; color: var(--text);
}
.chatPendingFileIcon { font-size: 18px; }
.chatPendingFileName { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px; }
.chatPendingFileRemove {
  margin-left: auto; background: none; border: none; color: var(--muted); cursor: pointer;
  font-size: 14px; padding: 4px; border-radius: 6px;
}
.chatPendingFileRemove:hover { color: var(--danger); }

.chatAttachment { margin-top: 6px; }
.chatAttachImg { max-width: 280px; max-height: 200px; border-radius: 10px; display: block; object-fit: cover; }
.chatAttachFile {
  display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px;
  border-radius: 10px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
  color: var(--primary); text-decoration: none; font-size: 13px; font-weight: 600;
  transition: background 0.15s;
}
.chatAttachFile:hover { background: rgba(255,255,255,0.1); }
.chatAttachFileIcon { font-size: 16px; }
.chatAttachFileName { max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* ── File download chip (single clickable button) ── */
.chatAttachFileChip {
  display: inline-flex; align-items: center; gap: 8px; padding: 8px 14px;
  border-radius: 10px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
  color: var(--text); font-size: 13px; font-weight: 600;
  cursor: pointer; transition: background 0.15s, border-color 0.15s;
}
.chatAttachFileChip:hover { background: rgba(255,255,255,0.12); border-color: rgba(255,255,255,0.2); }
.chatAttachFileChip .chatAttachFileIcon { font-size: 16px; opacity: 0.7; }
.chatAttachFileChip .chatAttachFileName { max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.chatAttachFileDl {
  font-size: 14px; opacity: 0.4; margin-left: 2px; transition: opacity 0.15s;
}
.chatAttachFileChip:hover .chatAttachFileDl { opacity: 0.9; }

/* ── Light: chat attachments ── */
[data-theme="light"] .chatAttachBtn { background: rgba(0,0,0,0.04); border-color: var(--border); color: var(--muted); }
[data-theme="light"] .chatAttachBtn:hover:not(:disabled) { background: rgba(0,0,0,0.08); color: var(--text); }
[data-theme="light"] .chatPendingFile { background: rgba(37,99,235,0.04); border-top-color: var(--border); }
[data-theme="light"] .chatAttachFile { background: rgba(0,0,0,0.03); border-color: var(--border); color: var(--primary); }
[data-theme="light"] .chatAttachFile:hover { background: rgba(0,0,0,0.06); }
[data-theme="light"] .chatAttachFileChip { background: rgba(0,0,0,0.03); border-color: var(--border); color: var(--text); }
[data-theme="light"] .chatAttachFileChip:hover { background: rgba(0,0,0,0.07); border-color: rgba(0,0,0,0.15); }

/* ── Download button for attachments ── */
.chatDownloadBtn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 24px; height: 24px; border-radius: 6px;
  background: none; border: none;
  color: rgba(255,255,255,0.5); font-size: 15px; text-decoration: none;
  cursor: pointer; transition: all 0.15s; flex-shrink: 0; padding: 0;
}
.chatDownloadBtn:hover { color: #fff; }
[data-theme="light"] .chatDownloadBtn { color: rgba(0,0,0,0.35); }
[data-theme="light"] .chatDownloadBtn:hover { color: rgba(0,0,0,0.8); }

.chatAttachment { display: flex; flex-direction: column; gap: 4px; margin-top: 6px; position: relative; }
.chatAttachmentFile { display: inline-flex; align-items: center; gap: 4px; }
.chatAttachmentImg { position: relative; }
.chatAttachmentImg .chatDownloadBtn {
  position: absolute; bottom: 8px; right: 8px;
  width: 28px; height: 28px; border-radius: 8px;
  background: rgba(0,0,0,0.6); color: rgba(255,255,255,0.85);
  font-size: 16px; backdrop-filter: blur(4px);
}
.chatAttachmentImg .chatDownloadBtn:hover { background: rgba(0,0,0,0.8); color: #fff; }

/* ── Image lightbox ── */
.chatLightbox {
  position: fixed; inset: 0; z-index: 2000;
  background: rgba(60,60,80,0.55); backdrop-filter: blur(18px);
  display: grid; place-items: center; cursor: zoom-out;
}
.chatLightboxImg {
  max-width: 90vw; max-height: 85vh; border-radius: 12px;
  object-fit: contain; cursor: default;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}
.chatLightboxClose {
  position: fixed; top: 16px; right: 20px;
  width: 36px; height: 36px; border-radius: 999px;
  background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
  color: #fff; font-size: 18px; cursor: pointer;
  display: grid; place-items: center; transition: all 0.15s;
}
.chatLightboxClose:hover { background: rgba(255,255,255,0.2); }

/* ── Message bubble wrapper (for reactions layout) ── */
.chatBubbleWrap {
  display: flex;
  flex-direction: column;
  position: relative;
  max-width: 520px;
}
.chatBubble { position: relative; }

/* ── Reaction trigger (smiley icon on hover) ── */
.rxnTrigger {
  position: absolute; top: 4px; right: 4px;
  width: 24px; height: 24px; border-radius: 999px;
  background: rgba(0,0,0,0.25); border: none; cursor: pointer;
  font-size: 13px; line-height: 1;
  opacity: 0; transition: opacity 0.15s;
  display: grid; place-items: center; padding: 0;
  color: rgba(255,255,255,0.7); backdrop-filter: blur(4px);
}
.chatBubble:hover .rxnTrigger,
.rxnTrigger:focus { opacity: 1; }
.rxnTrigger:hover { background: rgba(0,0,0,0.45); color: #fff; }
[data-theme="light"] .rxnTrigger { background: rgba(0,0,0,0.06); color: rgba(0,0,0,0.4); }
[data-theme="light"] .rxnTrigger:hover { background: rgba(0,0,0,0.12); color: rgba(0,0,0,0.7); }

/* ── Emoji picker dropdown ── */
.rxnPicker {
  display: flex; gap: 2px; padding: 4px 6px;
  background: var(--card); border: 1px solid rgba(255,255,255,0.12);
  border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.35);
  width: fit-content; z-index: 10;
  margin-top: 2px;
}
.chatBubbleMe .rxnPicker { margin-left: auto; }
.rxnPickerEmoji {
  width: 30px; height: 30px; border-radius: 999px;
  background: none; border: none; cursor: pointer;
  font-size: 18px; display: grid; place-items: center; padding: 0;
  transition: background 0.12s, transform 0.12s;
}
.rxnPickerEmoji:hover {
  background: rgba(255,255,255,0.1);
  transform: scale(1.25);
}

/* ── Reaction chips under messages ── */
.rxnChips {
  display: flex; gap: 4px; flex-wrap: wrap;
  margin-top: 4px;
}
.chatBubbleMe + .rxnPicker,
.chatBubbleMe ~ .rxnChips { justify-content: flex-end; }
.rxnChip {
  display: inline-flex; align-items: center; gap: 3px;
  padding: 2px 7px; border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.1);
  cursor: pointer; font-size: 13px; line-height: 1;
  transition: all 0.12s; color: var(--text);
}
.rxnChip:hover { background: rgba(255,255,255,0.12); border-color: rgba(255,255,255,0.2); }
.rxnChipMine {
  background: rgba(100,181,255,0.15);
  border-color: rgba(100,181,255,0.35);
}
.rxnChipMine:hover { background: rgba(100,181,255,0.25); }
.rxnEmoji { font-size: 14px; }
.rxnCount { font-size: 11px; font-weight: 700; opacity: 0.7; }

/* ── Light mode: reactions ── */
[data-theme="light"] .rxnTrigger:hover { background: rgba(0,0,0,0.06); }
[data-theme="light"] .rxnPicker { background: #fff; border-color: var(--border); box-shadow: 0 8px 24px rgba(0,0,0,0.12); }
[data-theme="light"] .rxnPickerEmoji:hover { background: rgba(0,0,0,0.06); }
[data-theme="light"] .rxnChip { background: rgba(0,0,0,0.04); border-color: var(--border); }
[data-theme="light"] .rxnChip:hover { background: rgba(0,0,0,0.08); }
[data-theme="light"] .rxnChipMine { background: rgba(37,99,235,0.08); border-color: rgba(37,99,235,0.25); }
[data-theme="light"] .rxnChipMine:hover { background: rgba(37,99,235,0.15); }

/* ── @Mention autocomplete popup ── */
.mentionPopup {
  position: relative;
  background: var(--card); border: 1px solid rgba(255,255,255,0.12);
  border-radius: 12px; box-shadow: 0 8px 28px rgba(0,0,0,0.4);
  margin: 0 16px 4px; padding: 4px 0;
  max-height: 220px; overflow-y: auto; z-index: 20;
}
.mentionItem {
  display: flex; align-items: center; gap: 10px;
  padding: 8px 14px; width: 100%;
  background: none; border: none; cursor: pointer;
  text-align: left; transition: background 0.1s; color: var(--text);
}
.mentionItem:hover, .mentionItemActive {
  background: rgba(100,181,255,0.12);
}
.mentionAvatar {
  width: 28px; height: 28px; border-radius: 999px;
  background: linear-gradient(135deg, rgba(114,200,255,0.2), rgba(170,122,255,0.15));
  border: 1.5px solid rgba(114,200,255,0.25);
  display: grid; place-items: center;
  font-weight: 900; font-size: 10px; color: #fff; flex-shrink: 0;
}
.mentionInfo { display: flex; flex-direction: column; min-width: 0; }
.mentionName { font-size: 13px; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.mentionEmail { font-size: 11px; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* ── Mention highlight in message body ── */
.chatMention {
  font-weight: 800;
  color: var(--primary);
  background: rgba(100,181,255,0.1);
  border-radius: 4px;
  padding: 1px 3px;
}

/* ── Light mode: mentions ── */
[data-theme="light"] .mentionPopup { background: #fff; border-color: var(--border); box-shadow: 0 8px 24px rgba(0,0,0,0.1); }
[data-theme="light"] .mentionItem:hover, [data-theme="light"] .mentionItemActive { background: rgba(37,99,235,0.06); }
[data-theme="light"] .chatMention { background: rgba(37,99,235,0.08); color: var(--primary); }

/* ── Direct Messages sidebar ── */
.chatDmTitle {
  display: flex; align-items: center; justify-content: space-between;
  margin-top: 16px;
}
.chatNewDmBtn {
  width: 22px; height: 22px; border-radius: 6px;
  border: 1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.06);
  color: var(--primary); font-size: 16px; font-weight: 900; cursor: pointer;
  display: grid; place-items: center; transition: all 0.15s; line-height: 1;
}
.chatNewDmBtn:hover { background: rgba(100,181,255,0.15); border-color: rgba(100,181,255,0.3); }
[data-theme="light"] .chatNewDmBtn { background: rgba(0,0,0,0.04); border-color: var(--border); }

.chatDmList { margin-bottom: 12px; }
.chatDmBtn { gap: 8px !important; }
.chatDmAvatar {
  width: 24px; height: 24px; border-radius: 999px;
  background: linear-gradient(135deg, rgba(114,200,255,0.15), rgba(170,122,255,0.1));
  border: 1.5px solid rgba(114,200,255,0.25);
  display: grid; place-items: center; font-weight: 900; font-size: 9px;
  color: #fff; flex-shrink: 0;
}
.chatDmName {
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  font-size: 13px;
}
.chatDmEmpty {
  padding: 12px 16px; font-size: 12px; color: var(--muted); opacity: 0.7;
}

/* ── New DM modal ── */
.chatNewDmOverlay {
  position: fixed; inset: 0; z-index: 1000;
  background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);
  display: grid; place-items: center;
}
.chatNewDmModal {
  width: 400px; max-width: 90vw; max-height: 70vh;
  background: var(--card); border: 1px solid rgba(255,255,255,0.1);
  border-radius: 16px; overflow: hidden;
  display: flex; flex-direction: column;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
}
.chatNewDmHeader {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 20px; font-weight: 900; font-size: 15px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.chatNewDmClose {
  background: none; border: none; color: var(--muted); cursor: pointer;
  font-size: 16px; padding: 4px; border-radius: 6px;
}
.chatNewDmClose:hover { color: var(--text); }
.chatNewDmSearch {
  margin: 12px 16px 8px; padding: 10px 14px;
  background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.12);
  border-radius: 10px; color: var(--text); font-family: inherit; font-size: 14px;
  outline: none;
}
.chatNewDmSearch:focus { border-color: rgba(100,181,255,0.4); }
.chatNewDmList {
  flex: 1; overflow-y: auto; padding: 4px 8px 12px;
  display: flex; flex-direction: column; gap: 2px;
}
.chatNewDmUser {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px; border-radius: 10px;
  border: none; background: transparent; color: var(--text); cursor: pointer;
  text-align: left; width: 100%; transition: background 0.15s;
}
.chatNewDmUser:hover { background: rgba(100,181,255,0.08); }
.chatNewDmUserName { font-weight: 700; font-size: 14px; }
.chatNewDmUserEmail { font-size: 12px; color: var(--muted); margin-top: 1px; }

[data-theme="light"] .chatNewDmModal { background: var(--card); border-color: var(--border); box-shadow: 0 20px 60px rgba(0,0,0,0.15); }
[data-theme="light"] .chatNewDmSearch { background: rgba(0,0,0,0.03); border-color: var(--border); }
[data-theme="light"] .chatNewDmUser:hover { background: rgba(37,99,235,0.06); }

/* Thread creation: selected members row */
.chatThreadSelectedRow {
  display: flex; flex-wrap: wrap; gap: 6px; padding: 8px 16px;
}
.chatThreadSelectedChip {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 8px 3px 10px; border-radius: 999px; font-size: 12px; font-weight: 700;
  background: rgba(100,181,255,0.15); color: var(--primary);
  border: 1px solid rgba(100,181,255,0.25);
}
.chatThreadChipX {
  background: none; border: none; color: var(--muted); cursor: pointer;
  font-size: 11px; padding: 0 2px; line-height: 1;
}
.chatThreadChipX:hover { color: var(--danger); }
.chatNewDmUserSelected { background: rgba(100,181,255,0.08) !important; }
.chatThreadCheckmark {
  margin-left: auto; color: var(--primary); font-weight: 900; font-size: 16px;
}

/* Header member count badge */
.chatHeaderMemberCount {
  font-size: 11px; color: var(--muted); font-weight: 700;
  background: rgba(255,255,255,0.06); padding: 2px 8px; border-radius: 8px;
  margin-left: 8px;
}
[data-theme="light"] .chatHeaderMemberCount { background: rgba(0,0,0,0.04); }
[data-theme="light"] .chatThreadSelectedChip { background: rgba(37,99,235,0.08); border-color: rgba(37,99,235,0.2); }

/* ── Shared member dot (colored border, like workspace page) ── */
.cMemberDot {
  border-radius: 999px;
  display: grid; place-items: center;
  font-weight: 850; color: var(--text);
  background: transparent;
  border: 2.5px solid rgba(255,255,255,0.2);
  flex-shrink: 0;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
  position: relative;
}
.cMemberDot:hover { transform: scale(1.18); z-index: 3; box-shadow: 0 0 8px rgba(100,181,255,0.35); }

/* Header row of avatars */
.chatHeaderAvatars {
  display: flex; align-items: center; gap: 5px; margin-left: 14px;
}
.chatHeaderAvatarMore {
  font-size: 11px; font-weight: 800; color: var(--muted); margin-left: 4px;
}


/* ── Member hover popup (name + DM) ── */
.cMemberPopup {
  position: fixed;
  transform: translateX(-50%);
  z-index: 9999;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px 18px;
  display: flex; flex-direction: column; align-items: center; gap: 6px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.45);
  min-width: 150px;
  animation: cPopIn 0.15s ease;
}
@keyframes cPopIn { from { opacity: 0; transform: translateX(-50%) translateY(-4px) scale(0.95); } to { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); } }
.cMemberPopupDot {
  width: 36px; height: 36px; border-radius: 999px;
  display: grid; place-items: center;
  font-weight: 850; font-size: 12px; color: var(--text);
  border: 2.5px solid;
  background: transparent;
}
.cMemberPopupName {
  font-weight: 700; font-size: 13px; color: var(--text); text-align: center;
}
.cMemberPopupEmail {
  font-size: 11px; color: var(--muted); text-align: center; margin-top: -2px;
}
.cMemberPopupDm {
  margin-top: 4px;
  padding: 5px 16px;
  border-radius: 8px;
  border: none;
  background: linear-gradient(135deg, #6c63ff, #3b82f6);
  color: #fff;
  font-size: 12px; font-weight: 700;
  cursor: pointer;
  transition: transform 0.12s, box-shadow 0.12s;
}
.cMemberPopupDm:hover { transform: scale(1.05); box-shadow: 0 2px 10px rgba(108,99,255,0.4); }

/* Light mode overrides */
[data-theme="light"] .cMemberPopup { background: #fff; border-color: rgba(0,0,0,0.1); box-shadow: 0 8px 24px rgba(0,0,0,0.12); }

/* ── Members panel ── */
.chatBodyRow {
  flex: 1; display: flex; min-height: 0; overflow: hidden;
}
.chatMessages { flex: 1; }

.chatMembersBtn {
  display: flex; align-items: center; gap: 4px;
  padding: 6px 10px; border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05);
  color: var(--muted); font-size: 14px; cursor: pointer; transition: all 0.15s;
}
.chatMembersBtn:hover { background: rgba(255,255,255,0.1); color: var(--text); }
.chatMembersBtnCount { font-weight: 800; font-size: 12px; }
[data-theme="light"] .chatMembersBtn { background: rgba(0,0,0,0.03); border-color: var(--border); }

.chatMembersPanel {
  width: 240px; flex-shrink: 0; border-left: 1px solid rgba(255,255,255,0.06);
  background: rgba(5,7,12,0.3); overflow-y: auto;
  display: flex; flex-direction: column;
}
.chatMembersPanelHead {
  padding: 14px 16px 10px; font-size: 11px; font-weight: 900;
  text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted);
  display: flex; gap: 6px; align-items: center;
}
.chatMembersPanelCount {
  background: rgba(100,181,255,0.15); color: var(--primary);
  padding: 1px 6px; border-radius: 8px; font-size: 10px;
}
.chatMembersPanelList { padding: 0 8px 12px; display: flex; flex-direction: column; gap: 2px; }
.chatMemberItem {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 10px; border-radius: 8px;
  border: none; background: transparent; color: var(--text); cursor: pointer;
  text-align: left; width: 100%; transition: background 0.15s; font-size: 13px;
}
.chatMemberItem:hover { background: rgba(255,255,255,0.06); }
.chatMemberAvatar {
  width: 28px; height: 28px; border-radius: 999px;
  background: linear-gradient(135deg, rgba(114,200,255,0.15), rgba(170,122,255,0.1));
  border: 1.5px solid rgba(114,200,255,0.25);
  display: grid; place-items: center; font-weight: 900; font-size: 10px;
  color: #fff; flex-shrink: 0;
}
.chatMemberName { font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.chatMemberYou {
  margin-left: auto; font-size: 10px; color: var(--muted);
  background: rgba(255,255,255,0.06); padding: 1px 6px; border-radius: 6px; font-weight: 700;
}
[data-theme="light"] .chatMembersPanel { background: rgba(245,247,250,0.6); border-left-color: var(--border); }
[data-theme="light"] .chatMemberItem:hover { background: rgba(0,0,0,0.04); }
[data-theme="light"] .chatMemberYou { background: rgba(0,0,0,0.04); }

/* ── Task sharing: share button ── */
.chatTaskShareBtn { font-size: 16px !important; }

/* ── Task picker ── */
.chatTaskPicker {
  border-top: 1px solid rgba(255,255,255,0.06);
  background: rgba(5,7,12,0.6); backdrop-filter: blur(12px);
  max-height: 260px; overflow: hidden;
  display: flex; flex-direction: column;
}
.chatTaskPickerHead {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px; font-weight: 800; font-size: 13px;
  border-bottom: 1px solid rgba(255,255,255,0.04);
}
.chatTaskPickerList {
  flex: 1; overflow-y: auto; padding: 4px 8px 8px;
  display: flex; flex-direction: column; gap: 2px;
}
.chatTaskPickerItem {
  padding: 10px 12px; border-radius: 10px;
  border: none; background: transparent; color: var(--text); cursor: pointer;
  text-align: left; width: 100%; transition: background 0.15s;
}
.chatTaskPickerItem:hover { background: rgba(100,181,255,0.08); }
.chatTaskPickerTitle { font-weight: 700; font-size: 13px; }
.chatTaskPickerMeta { font-size: 11px; color: var(--muted); margin-top: 2px; }
[data-theme="light"] .chatTaskPicker { background: rgba(250,251,253,0.95); border-top-color: var(--border); }
[data-theme="light"] .chatTaskPickerItem:hover { background: rgba(37,99,235,0.06); }

/* ── Task card embedded in chat ── */
.chatTaskCard {
  margin-top: 8px; padding: 10px 14px; border-radius: 12px;
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
  max-width: 320px;
}
.chatTaskCardLoading { font-size: 12px; color: var(--muted); }
.chatTaskCardHeader {
  display: flex; align-items: center; gap: 6px; margin-bottom: 4px;
}
.chatTaskCardIcon { font-size: 14px; opacity: 0.7; }
.chatTaskCardStatus {
  font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.04em;
  padding: 1px 6px; border-radius: 6px;
}
.chatTaskCardStatus.open { background: rgba(100,181,255,0.12); color: var(--primary); }
.chatTaskCardStatus.in_progress { background: rgba(245,158,11,0.15); color: #f59e0b; }
.chatTaskCardStatus.done { background: rgba(34,197,94,0.12); color: #22c55e; }
.chatTaskCardTitle { font-weight: 800; font-size: 14px; line-height: 1.3; }
.chatTaskCardDesc { font-size: 12px; color: var(--muted); margin-top: 4px; line-height: 1.4; }
.chatTaskCardMeta { display: flex; align-items: center; gap: 4px; margin-top: 6px; font-size: 11px; color: var(--muted); }
.chatTaskAsap { color: #ef4444; font-weight: 800; }
.chatTaskDot { opacity: 0.4; }

[data-theme="light"] .chatTaskCard { background: rgba(0,0,0,0.03); border-color: var(--border); }

@media (max-width: 720px) {
  .chatSidebar {
    width: 60px;
  }
  .chatWsBtn {
    font-size: 0;
    justify-content: center;
    padding: 10px;
  }
  .chatWsHash {
    font-size: 18px;
  }
  .chatSidebarTitle {
    display: none;
  }
  .chatDmName { display: none; }
  .chatMembersPanel { display: none; }
}

/* ───────────────────────────────────────────────
   Notification Panel
   ─────────────────────────────────────────────── */

.notifPanel {
  position: fixed;
  top: 54px;
  right: 16px;
  width: 360px;
  max-height: 480px;
  background: rgba(10, 12, 18, 0.95);
  backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  box-shadow: 0 24px 64px rgba(0, 0, 0, 0.5);
  z-index: 100;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: toastSlide 0.2s ease;
}

[data-theme="light"] .notifPanel {
  background: rgba(255, 255, 255, 0.95);
  border-color: var(--border);
  box-shadow: var(--shadow);
}

.notifPanelHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.notifPanelTitle {
  font-size: 15px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #fff;
}

[data-theme="light"] .notifPanelTitle { color: var(--text); }

.notifMarkAll {
  font-size: 11px;
  font-weight: 750;
  color: var(--primary);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 8px;
  transition: background 0.15s;
}

.notifMarkAll:hover { background: rgba(100, 181, 255, 0.1); }

.notifPanelList {
  flex: 1;
  overflow-y: auto;
  padding: 6px;
}

.notifEmpty {
  padding: 32px 16px;
  text-align: center;
  color: var(--muted);
  font-size: 13px;
}

.notifItem {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  background: transparent;
  border: none;
  width: 100%;
  text-align: left;
  cursor: pointer;
  transition: background 0.15s;
}

.notifItem:hover { background: rgba(255, 255, 255, 0.04); }
[data-theme="light"] .notifItem:hover { background: rgba(0, 0, 0, 0.03); }

.notifUnread { background: rgba(100, 181, 255, 0.05); }

.notifItemIcon {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-size: 12px;
  background: rgba(100, 181, 255, 0.1);
  color: var(--primary);
  flex-shrink: 0;
}

.notifItemBody { flex: 1; min-width: 0; }

.notifItemTitle {
  font-size: 13px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.85);
  line-height: 1.3;
}

[data-theme="light"] .notifItemTitle { color: var(--text); }

.notifItemSub {
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.notifItemTime {
  font-size: 10px;
  color: var(--muted);
  margin-top: 2px;
  opacity: 0.7;
}

.notifItemDot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: var(--primary);
  flex-shrink: 0;
  margin-top: 6px;
}

/* ───────────────────────────────────────────────
   Search Overlay
   ─────────────────────────────────────────────── */

.searchOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: 200;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding-top: 120px;
  animation: fadeIn 0.15s ease;
}

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.searchModal {
  width: 560px;
  max-width: 90vw;
  background: rgba(10, 12, 18, 0.96);
  backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  box-shadow: 0 32px 80px rgba(0, 0, 0, 0.5);
  overflow: hidden;
  animation: toastSlide 0.2s ease;
}

[data-theme="light"] .searchModal {
  background: rgba(255, 255, 255, 0.97);
  border-color: var(--border);
  box-shadow: var(--shadow);
}

.searchInputRow {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 16px 18px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.searchIcon {
  font-size: 18px;
  opacity: 0.4;
}

.searchInput {
  flex: 1;
  background: none;
  border: none;
  outline: none;
  color: #fff;
  font-size: 16px;
  font-family: inherit;
}

[data-theme="light"] .searchInput { color: var(--text); }

.searchClear {
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  font-size: 16px;
  padding: 4px;
}

.searchResultsList {
  max-height: 360px;
  overflow-y: auto;
  padding: 8px;
}

.searchEmpty {
  padding: 24px 16px;
  text-align: center;
  color: var(--muted);
  font-size: 13px;
}

.searchResultItem {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  background: transparent;
  border: none;
  width: 100%;
  text-align: left;
  cursor: pointer;
  transition: background 0.15s;
}

.searchResultItem:hover { background: rgba(255, 255, 255, 0.05); }
[data-theme="light"] .searchResultItem:hover { background: rgba(0, 0, 0, 0.04); }

.searchResultType {
  font-size: 16px;
  opacity: 0.5;
  margin-top: 2px;
}

.searchResultBody { flex: 1; min-width: 0; }

.searchResultTitle {
  font-size: 13px;
  font-weight: 750;
  color: rgba(255, 255, 255, 0.85);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

[data-theme="light"] .searchResultTitle { color: var(--text); }

.searchResultSub {
  font-size: 11px;
  color: var(--muted);
  margin-top: 2px;
}

/* Header search button */
.headerSearchBtn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 7px 14px;
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s ease;
  font-family: inherit;
  font-size: 13px;
}

.headerSearchBtn:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
  color: #fff;
}

[data-theme="light"] .headerSearchBtn {
  background: rgba(0, 0, 0, 0.03);
  border-color: var(--border);
  color: var(--muted);
}

[data-theme="light"] .headerSearchBtn:hover {
  background: rgba(0, 0, 0, 0.06);
  color: var(--text);
}

.headerSearchHint {
  font-weight: 600;
  opacity: 0.6;
}

.headerSearchKbd {
  font-size: 10px;
  font-weight: 800;
  padding: 2px 6px;
  border-radius: 5px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--muted);
  font-family: inherit;
}

[data-theme="light"] .headerSearchKbd {
  background: rgba(0, 0, 0, 0.05);
  border-color: var(--border);
}

/* ───────────────────────────────────────────────
   Kanban View
   ─────────────────────────────────────────────── */

.kanbanCanvas {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  padding: 16px;
  overflow-y: auto;
  overflow-x: hidden;
  border-right: 1px solid rgba(255, 255, 255, 0.06);
}

.kanbanCol {
  display: flex;
  flex-direction: column;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 16px;
  min-height: 200px;
  overflow: hidden;
  transition: all 0.2s ease;
}

.kanbanColOver {
  border-color: var(--primary) !important;
  background: rgba(100, 181, 255, 0.04) !important;
  box-shadow: 0 0 0 2px rgba(100, 181, 255, 0.15);
}

.kanbanColHead {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 14px 16px 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.kanbanColDot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  flex-shrink: 0;
}

.kanbanDot-open { background: #64b5ff; }
.kanbanDot-in_progress { background: #ffb385; }
.kanbanDot-done { background: #85ff9e; }

.kanbanColLabel {
  font-size: 12px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--muted);
}

.kanbanColCount {
  font-size: 10px;
  font-weight: 900;
  padding: 2px 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.06);
  color: var(--muted);
  margin-left: auto;
}

.kanbanColBody {
  flex: 1;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  overflow-y: auto;
}

.kanbanCard {
  padding: 12px 14px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  cursor: grab;
  transition: all 0.15s ease;
}

.kanbanCard:active { cursor: grabbing; opacity: 0.7; }

.kanbanCard:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.kanbanCard.active {
  border-color: rgba(100, 181, 255, 0.4);
  background: rgba(100, 181, 255, 0.08);
}

.kanbanCardTitle {
  font-size: 13px;
  font-weight: 800;
  color: #fff;
  margin-bottom: 4px;
}

.kanbanCardMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: var(--muted);
  flex-wrap: wrap;
}

.kanbanEmpty {
  padding: 32px 16px;
  text-align: center;
  color: var(--muted);
  font-size: 12px;
  opacity: 0.6;
  border: 2px dashed rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  margin: 4px;
}

/* ───────────────────────────────────────────────
   Task Comments
   ─────────────────────────────────────────────── */

.bpCommentsSection {
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.bpCommentsSectionHead {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
  margin-bottom: 8px;
}

.bpCommentsList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 240px;
  overflow-y: auto;
  margin-bottom: 8px;
}

.bpCommentRow {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.bpCommentAvatar {
  width: 24px;
  height: 24px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(114, 200, 255, 0.2), rgba(170, 122, 255, 0.12));
  border: 1px solid rgba(114, 200, 255, 0.2);
  display: grid;
  place-items: center;
  font-weight: 900;
  font-size: 9px;
  color: #fff;
  flex-shrink: 0;
  margin-top: 2px;
}

.bpCommentBody {
  flex: 1;
  min-width: 0;
}

.bpCommentMeta {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 2px;
}

.bpCommentAuthor {
  font-size: 11px;
  font-weight: 850;
  color: var(--primary);
}

.bpCommentTime {
  font-size: 10px;
  color: var(--muted);
  opacity: 0.6;
}

.bpCommentText {
  font-size: 13px;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.85);
  white-space: pre-wrap;
  word-break: break-word;
}

[data-theme="light"] .bpCommentText { color: var(--text); }

.bpCommentComposer {
  display: flex;
  gap: 6px;
  align-items: center;
}

.bpCommentInput {
  flex: 1;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  padding: 8px 12px;
  font-size: 12px;
  font-family: inherit;
  color: #fff;
  outline: none;
}

.bpCommentInput:focus {
  border-color: rgba(114, 200, 255, 0.4);
  box-shadow: 0 0 0 3px rgba(114, 200, 255, 0.06);
}

.bpCommentSend {
  padding: 8px 12px;
  border-radius: 10px;
  background: var(--primary);
  border: none;
  color: #fff;
  font-weight: 800;
  font-size: 11px;
  cursor: pointer;
  white-space: nowrap;
}

.bpCommentSend:disabled { opacity: 0.4; cursor: not-allowed; }

/* ───────────────────────────────────────────────
   Audit Log
   ─────────────────────────────────────────────── */

.bpAuditList {
  margin-top: 8px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  max-height: 300px;
  overflow-y: auto;
}

.bpAuditRow {
  padding: 8px 10px;
  border-radius: 8px;
  transition: background 0.1s;
}

.bpAuditRow:hover { background: rgba(255, 255, 255, 0.03); }
[data-theme="light"] .bpAuditRow:hover { background: rgba(0, 0, 0, 0.02); }

.bpAuditText {
  font-size: 12px;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.7);
}

[data-theme="light"] .bpAuditText { color: var(--text); }

.bpAuditText b {
  color: #fff;
  font-weight: 800;
}

[data-theme="light"] .bpAuditText b { color: var(--text); }

.bpAuditTime {
  font-size: 10px;
  color: var(--muted);
  opacity: 0.6;
  margin-top: 2px;
}

/* ── Calendar View ── */
.calendarCanvas {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.02);
}

.calendarTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.calendarMonthName {
  font-size: 17px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #fff;
  text-transform: capitalize;
}

.asapLane {
  padding: 10px 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

.asapLaneHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.asapLaneTitle {
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #ff9e7a;
}

.asapLaneScroll {
  display: flex;
  gap: 6px;
  overflow-x: auto;
  padding-bottom: 4px;
}

.asapPill {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 5px 10px;
  border-radius: 999px;
  background: rgba(255, 90, 40, 0.08);
  border: 1px solid rgba(255, 90, 40, 0.2);
  color: #ffc8a8;
  font-size: 11px;
  font-weight: 750;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.asapPill:hover {
  background: rgba(255, 90, 40, 0.15);
  border-color: rgba(255, 90, 40, 0.35);
}

.asapPill.active {
  background: rgba(255, 90, 40, 0.2);
  border-color: rgba(255, 90, 40, 0.5);
  box-shadow: 0 2px 8px rgba(255, 90, 40, 0.15);
}

.asapDot {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: var(--user-color, rgba(255, 90, 40, 0.8));
  flex-shrink: 0;
}

.asapText {
  max-width: 140px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.calendarGrid {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  grid-template-rows: auto repeat(6, 1fr);
  overflow: hidden;
}

.calendarDayHead {
  padding: 8px 4px;
  text-align: center;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.calendarCell {
  padding: 4px 6px;
  border-right: 1px solid rgba(255, 255, 255, 0.04);
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.calendarCell.otherMonth {
  opacity: 0.3;
}

.calendarCell.today {
  background: rgba(100, 181, 255, 0.06);
}

.calendarCell.today .calendarDayNum {
  color: var(--primary);
  font-weight: 900;
}

.calendarDayNum {
  font-size: 11px;
  font-weight: 700;
  color: var(--muted);
  margin-bottom: 2px;
  flex-shrink: 0;
}

.calendarTaskList {
  flex: 1;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.calendarTask {
  font-size: 10px;
  font-weight: 700;
  padding: 2px 5px;
  border-radius: 4px;
  background: rgba(100, 181, 255, 0.1);
  border: 1px solid rgba(100, 181, 255, 0.15);
  color: rgba(255, 255, 255, 0.85);
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.calendarTask:hover {
  background: rgba(100, 181, 255, 0.18);
  border-color: rgba(100, 181, 255, 0.3);
}

.calendarTask.active {
  background: rgba(100, 181, 255, 0.25);
  border-color: rgba(100, 181, 255, 0.5);
  box-shadow: 0 1px 4px rgba(100, 181, 255, 0.15);
}

.calendarTask.done {
  opacity: 0.4;
  text-decoration: line-through;
}

/* ── Resize Handle ── */
.bpResizeHandle {
  width: 6px;
  cursor: col-resize;
  background: transparent;
  position: relative;
  flex-shrink: 0;
  z-index: 5;
  transition: background 0.15s;
}

.bpResizeHandle::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 36px;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.12);
  transition: all 0.2s ease;
}

.bpResizeHandle:hover::after {
  background: rgba(100, 181, 255, 0.5);
  height: 48px;
}

[data-theme="light"] .bpResizeHandle::after {
  background: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .bpResizeHandle:hover::after {
  background: rgba(37, 99, 235, 0.4);
}

/* ── Chat divider ── */
.chatWsDivider {
  height: 1px;
  background: rgba(255, 255, 255, 0.06);
  margin: 4px 12px;
}

[data-theme="light"] .chatWsDivider {
  background: var(--border);
}

/* ── Admin Reset Password Button ── */
.adminCardActions {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
}

/* Shopify store access toggles */
.adminShopifyToggles {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}
.adminShopifyBtn {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 8px 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.1);
  color: rgba(255,255,255,0.45);
  font-size: 11px;
  font-weight: 750;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
  font-family: inherit;
}
.adminShopifyBtn.active {
  background: rgba(52,211,153,0.1);
  border-color: rgba(52,211,153,0.3);
  color: #34d399;
}
.adminShopifyBtn:hover:not(:disabled) {
  background: rgba(52,211,153,0.15);
  border-color: rgba(52,211,153,0.4);
  transform: translateY(-1px);
}
.adminShopifyBtn:disabled { opacity: .3; cursor: not-allowed; }
[data-theme="light"] .adminShopifyBtn {
  background: #f5f6f8; border-color: #dde0e6; color: #8b92a0;
}
[data-theme="light"] .adminShopifyBtn.active {
  background: rgba(16,185,129,0.08); border-color: rgba(16,185,129,0.3); color: #059669;
}
[data-theme="light"] .adminShopifyBtn:hover:not(:disabled) {
  background: rgba(16,185,129,0.12);
}

.adminResetBtn {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 8px 12px;
  border-radius: 12px;
  background: rgba(100, 181, 255, 0.06);
  border: 1px solid rgba(100, 181, 255, 0.2);
  color: var(--primary);
  font-size: 11px;
  font-weight: 750;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
  font-family: inherit;
}

.adminResetBtn:hover:not(:disabled) {
  background: rgba(100, 181, 255, 0.12);
  border-color: rgba(100, 181, 255, 0.4);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(100, 181, 255, 0.1);
}

.adminResetBtn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

[data-theme="light"] .adminResetBtn {
  background: rgba(37, 99, 235, 0.04);
  border-color: rgba(37, 99, 235, 0.15);
}

[data-theme="light"] .adminResetBtn:hover:not(:disabled) {
  background: rgba(37, 99, 235, 0.1);
  border-color: rgba(37, 99, 235, 0.3);
}

/* ── Calendar Page (standalone) ── */
.calPageScreen {
  display: flex;
  height: calc(100vh - 54px);
  overflow: hidden;
}

.calPageMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  overflow: hidden;
}

.calPageHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 16px 24px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  flex-shrink: 0;
}

[data-theme="light"] .calPageHeader {
  border-bottom-color: var(--border);
}

.calPageMonth {
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.03em;
  color: #fff;
  text-transform: capitalize;
}

[data-theme="light"] .calPageMonth {
  color: var(--text);
}

.calPageNav {
  display: flex;
  gap: 4px;
}

.calPageNavBtn {
  padding: 8px 14px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.04);
  color: var(--muted);
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s ease;
  font-family: inherit;
}

.calPageNavBtn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
}

.calPageToday {
  font-size: 12px;
}

[data-theme="light"] .calPageNavBtn {
  border-color: var(--border);
  background: rgba(0, 0, 0, 0.03);
}

[data-theme="light"] .calPageNavBtn:hover {
  background: rgba(0, 0, 0, 0.06);
  color: var(--text);
}

.calPageStats {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--muted);
}

.calPageSide {
  width: 320px;
  flex-shrink: 0;
  border-left: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(10, 12, 18, 0.5);
  backdrop-filter: blur(20px);
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow-y: auto;
}

[data-theme="light"] .calPageSide {
  background: rgba(255, 255, 255, 0.7);
  border-left-color: var(--border);
}

.calPageSideHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.calPageSideBody {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.calPageSideDateLabel {
  font-size: 16px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #fff;
}

[data-theme="light"] .calPageSideDateLabel { color: var(--text); }

/* Selected cell highlight */
.calCellSelected {
  background: rgba(100, 181, 255, 0.08) !important;
  box-shadow: inset 0 0 0 2px rgba(100, 181, 255, 0.4);
}

[data-theme="light"] .calCellSelected {
  background: rgba(37, 99, 235, 0.06) !important;
  box-shadow: inset 0 0 0 2px rgba(37, 99, 235, 0.35);
}

/* Clickable cells */
.calendarCell {
  cursor: pointer;
  transition: background 0.12s ease;
}
.calendarCell:hover:not(.calCellSelected) {
  background: rgba(255, 255, 255, 0.04);
}
[data-theme="light"] .calendarCell:hover:not(.calCellSelected) {
  background: rgba(0, 0, 0, 0.03);
}

/* ── Note chip on calendar cell ── */
.calNoteChip {
  font-size: 10px;
  font-weight: 700;
  padding: 2px 5px;
  border-radius: 4px;
  background: rgba(147, 51, 234, 0.08);
  border-left: 3px solid rgba(147, 51, 234, 0.6);
  color: rgba(255, 255, 255, 0.8);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 0;
  cursor: default;
}

[data-theme="light"] .calNoteChip {
  background: rgba(147, 51, 234, 0.06);
  color: var(--text);
}

/* ── Notes section in side panel ── */
.calNotesSection {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.calNotesSectionHead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 11px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
}

.calAddNoteBtn {
  font-size: 11px;
  font-weight: 800;
  color: var(--primary);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 8px;
  transition: background 0.15s;
  font-family: inherit;
}

.calAddNoteBtn:hover {
  background: rgba(100, 181, 255, 0.1);
}

[data-theme="light"] .calAddNoteBtn:hover {
  background: rgba(37, 99, 235, 0.08);
}

.calNotesEmpty {
  font-size: 13px;
  color: var(--muted);
  padding: 12px 0;
  opacity: 0.7;
}

/* ── Note form ── */
.calNoteForm {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 14px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  animation: toastSlide 0.2s ease;
}

[data-theme="light"] .calNoteForm {
  background: rgba(0, 0, 0, 0.02);
  border-color: var(--border);
}

.calNoteInput {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 10px;
  padding: 10px 12px;
  color: #fff;
  font-family: inherit;
  font-size: 14px;
  font-weight: 700;
  outline: none;
  transition: all 0.2s ease;
}

.calNoteInput:focus {
  border-color: rgba(114, 200, 255, 0.4);
  box-shadow: 0 0 0 3px rgba(114, 200, 255, 0.08);
}

[data-theme="light"] .calNoteInput {
  background: rgba(0, 0, 0, 0.03);
  border-color: var(--border);
  color: var(--text);
}

.calNoteTextarea {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  padding: 10px 12px;
  color: #fff;
  font-family: inherit;
  font-size: 13px;
  outline: none;
  resize: vertical;
  min-height: 60px;
  transition: all 0.2s ease;
}

.calNoteTextarea:focus {
  border-color: rgba(114, 200, 255, 0.4);
  box-shadow: 0 0 0 3px rgba(114, 200, 255, 0.08);
}

[data-theme="light"] .calNoteTextarea {
  background: rgba(0, 0, 0, 0.02);
  border-color: var(--border);
  color: var(--text);
}

.calNoteColorRow {
  display: flex;
  gap: 6px;
  padding: 4px 0;
}

.calNoteColorDot {
  width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.15s ease;
}

.calNoteColorDot:hover {
  transform: scale(1.15);
}

.calNoteColorDot.active {
  border-color: #fff;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

[data-theme="light"] .calNoteColorDot.active {
  border-color: var(--text);
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.15);
}

/* Visibility toggle — segmented control */
.calNoteVisRow {
  display: grid; grid-template-columns: 1fr 1fr; gap: 4px;
  padding: 3px; border-radius: 10px;
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08);
  margin: 6px 0;
}
.calVisOption {
  display: flex; align-items: center; justify-content: center; gap: 6px;
  padding: 8px 12px; border-radius: 8px; border: 1px solid transparent;
  background: transparent; color: var(--muted); font-size: 13px; font-weight: 600;
  cursor: pointer; transition: all 0.15s;
}
.calVisOption:hover:not(.active) { background: rgba(255,255,255,0.04); color: var(--text); }
.calVisOption.active {
  background: rgba(100,181,255,0.12); border-color: rgba(100,181,255,0.25);
  color: #fff;
}
.calVisIcon { font-size: 14px; }
.calVisText { font-size: 12px; }

[data-theme="light"] .calNoteVisRow { background: rgba(0,0,0,0.03); border-color: var(--border); }
[data-theme="light"] .calVisOption:hover:not(.active) { background: rgba(0,0,0,0.04); }
[data-theme="light"] .calVisOption.active { background: rgba(37,99,235,0.08); border-color: rgba(37,99,235,0.2); color: var(--text); }

/* Note visibility tags on cards */
.calNoteVisTag {
  font-size: 10px; font-weight: 700; padding: 3px 8px; border-radius: 6px;
  white-space: nowrap; letter-spacing: 0.02em;
}
.calNoteVisTagPrivate {
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); color: var(--muted);
}
.calNoteVisTagPublic {
  background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.2); color: #22c55e;
}
[data-theme="light"] .calNoteVisTagPrivate { background: rgba(0,0,0,0.04); border-color: var(--border); color: var(--muted); }
[data-theme="light"] .calNoteVisTagPublic { background: rgba(34,197,94,0.06); border-color: rgba(34,197,94,0.15); color: #16a34a; }

.calNoteChipVis { font-size: 9px; margin-right: 2px; }
.calNoteCardHeader { display: flex; align-items: center; justify-content: space-between; gap: 6px; }

.calNoteFormActions {
  display: flex;
  gap: 8px;
  margin-top: 4px;
}

.calNoteFormActions .primaryBtn,
.calNoteFormActions .secondaryBtn {
  padding: 8px 14px;
  font-size: 12px;
}

/* ── Note card ── */
.calNoteCard {
  padding: 12px 14px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-left: 4px solid rgba(147, 51, 234, 0.6);
  display: flex;
  flex-direction: column;
  gap: 6px;
  transition: all 0.15s ease;
}

.calNoteCard:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.12);
  border-left-width: 4px;
}

[data-theme="light"] .calNoteCard {
  background: rgba(0, 0, 0, 0.02);
  border-color: var(--border);
}

[data-theme="light"] .calNoteCard:hover {
  background: rgba(0, 0, 0, 0.04);
}

.calNoteCardTitle {
  font-size: 14px;
  font-weight: 800;
  color: #fff;
}

[data-theme="light"] .calNoteCardTitle { color: var(--text); }

.calNoteCardBody {
  font-size: 13px;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.7);
  white-space: pre-wrap;
  word-break: break-word;
}

[data-theme="light"] .calNoteCardBody { color: var(--muted); }

.calNoteCardActions {
  display: flex;
  gap: 8px;
  margin-top: 2px;
}

.calNoteActionBtn {
  font-size: 11px;
  font-weight: 750;
  color: var(--primary);
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 6px;
  transition: background 0.15s;
  font-family: inherit;
}

.calNoteActionBtn:hover {
  background: rgba(100, 181, 255, 0.1);
}

.calNoteActionDanger {
  color: var(--danger);
}

.calNoteActionDanger:hover {
  background: rgba(255, 77, 109, 0.08);
}

[data-theme="light"] .calNoteActionDanger:hover {
  background: rgba(239, 68, 68, 0.06);
}

/* ── Day task card in side panel ── */
.calDayTaskCard {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 10px 14px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: left;
  width: 100%;
  font-family: inherit;
}

.calDayTaskCard:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.12);
}

[data-theme="light"] .calDayTaskCard {
  background: rgba(0, 0, 0, 0.02);
  border-color: var(--border);
}

[data-theme="light"] .calDayTaskCard:hover {
  background: rgba(0, 0, 0, 0.04);
}

.calDayTaskTitle {
  font-size: 13px;
  font-weight: 800;
  color: #fff;
}

[data-theme="light"] .calDayTaskTitle { color: var(--text); }

.calDayTaskMeta {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
}

/* Responsive – Landing */
@media (max-width: 640px) {
  .landingHeadline { font-size: 34px; }
  .landingFeatureGrid { grid-template-columns: 1fr; }
  .landingCTAs { flex-direction: column; }
  .landingCTAPrimary, .landingCTASecondary { width: 100%; text-align: center; box-sizing: border-box; }
  .landingStats { flex-direction: column; gap: 16px; }
  .landingNavInner { padding: 12px 16px; }
  .landingFeaturesTitle { font-size: 28px; }
  .landingCTABandTitle { font-size: 26px; }
  .landingFooterInner { flex-direction: column; gap: 10px; text-align: center; }
}

/* Responsive – Board */
@media (max-width: 900px) {
  .bpGrid {
    grid-template-columns: 1fr;
  }
  .bpSidebar {
    border-left: none;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
    max-height: 40vh;
    width: 100% !important;
  }
  .bpResizeHandle {
    display: none;
  }
  .bpFilterRow {
    overflow-x: auto;
    flex-wrap: nowrap;
    -webkit-overflow-scrolling: touch;
  }
  .calPageSide {
    display: none;
  }
}
